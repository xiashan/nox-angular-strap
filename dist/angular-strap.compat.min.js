!function(e,t,a){'use strict';function n(e,a,n,o,r,i){function s(e,a){return angular.element((a||t).querySelectorAll(e))}function l(e){return u[e]?u[e]:u[e]=a.get(e,{cache:i}).then(function(e){return e.data})}this.compile=function(t){t.template&&/\.html$/.test(t.template)&&(console.warn('Deprecated use of `template` option to pass a file. Please use the `templateUrl` option instead.'),t.templateUrl=t.template,t.template='');var a=t.templateUrl,i=t.template||'',u=t.controller,c=t.controllerAs,d=angular.copy(t.resolve||{}),g=angular.copy(t.locals||{}),m=t.transformTemplate||angular.identity,f=t.bindToController;if(angular.forEach(d,function(e,t){angular.isString(e)?d[t]=n.get(e):d[t]=n.invoke(e)}),angular.extend(d,g),i)d.$template=e.when(i);else{if(!a)throw new Error('Missing `template` / `templateUrl` option.');d.$template=l(a)}return t.titleTemplate&&(d.$template=e.all([d.$template,l(t.titleTemplate)]).then(function(e){var t=angular.element(e[0]);return s('[ng-bind="title"]',t[0]).removeAttr('ng-bind').html(e[1]),t[0].outerHTML})),t.contentTemplate&&(d.$template=e.all([d.$template,l(t.contentTemplate)]).then(function(e){var a=angular.element(e[0]),n=s('[ng-bind="content"]',a[0]).removeAttr('ng-bind').html(e[1]);return t.templateUrl||n.next().remove(),a[0].outerHTML})),e.all(d).then(function(e){var a=m(e.$template);t.html&&(a=a.replace(/ng-bind="/gi,'ng-bind-html="'));var n=angular.element('<div>').html(a.trim()).contents(),i=o(n);return{locals:e,element:n,link:function(t){if(e.$scope=t,u){var a=r(u,e,!0);f&&angular.extend(a.instance,e);var o=angular.isObject(a)?a:a();n.data('$ngControllerController',o),n.children().data('$ngControllerController',o),c&&(t[c]=o)}return i.apply(null,arguments)}}})};var u={}}n.$inject=['$q','$http','$injector','$compile','$controller','$templateCache'],angular.module('mgcrea.ngStrap.tooltip',['mgcrea.ngStrap.core','mgcrea.ngStrap.helpers.dimensions']).provider('$bsTooltip',function(){var e=this.defaults={animation:'am-fade',customClass:'',prefixClass:'tooltip',prefixEvent:'tooltip',container:!1,target:!1,placement:'top',templateUrl:'tooltip/tooltip.tpl.html',template:'',titleTemplate:!1,trigger:'hover focus',keyboard:!1,html:!1,show:!1,title:'',type:'',delay:0,autoClose:!1,bsEnabled:!0,mouseDownPreventDefault:!0,mouseDownStopPropagation:!0,viewport:{selector:'body',padding:0}};this.$get=['$window','$rootScope','$bsCompiler','$q','$templateCache','$http','$animate','$sce','bsDimensions','$$rAF','$timeout',function(a,n,o,r,i,s,l,u,c,d,g){function m(r,i){function s(){H.$emit(A.prefixEvent+'.show',E),angular.isDefined(A.onShow)&&angular.isFunction(A.onShow)&&A.onShow(E)}function m(){if(H.$emit(A.prefixEvent+'.hide',E),angular.isDefined(A.onHide)&&angular.isFunction(A.onHide)&&A.onHide(E),L===j){if(B&&'focus'===A.trigger)return r[0].blur();V()}}function h(){var e=A.trigger.split(' ');angular.forEach(e,function(e){'click'===e||'contextmenu'===e?r.on(e,E.toggle):'manual'!==e&&(r.on('hover'===e?'mouseenter':'focus',E.enter),r.on('hover'===e?'mouseleave':'blur',E.leave),('button'===P&&'hover'!==e||'input'===P)&&r.on($?'touchstart':'mousedown',E.$onFocusElementMouseDown))})}function v(){for(var e=A.trigger.split(' '),t=e.length;t--;){var a=e[t];'click'===a||'contextmenu'===a?r.off(a,E.toggle):'manual'!==a&&(r.off('hover'===a?'mouseenter':'focus',E.enter),r.off('hover'===a?'mouseleave':'blur',E.leave),('button'===P&&'hover'!==a||'input'===P)&&r.off($?'touchstart':'mousedown',E.$onFocusElementMouseDown))}}function w(){'focus'!==A.trigger?L.on('keyup',E.$onKeyUp):r.on('keyup',E.$onFocusKeyUp)}function y(){'focus'!==A.trigger?L.off('keyup',E.$onKeyUp):r.off('keyup',E.$onFocusKeyUp)}function b(){g(function(){L.on('click',T),D.on('click',E.hide),W=!0},0,!1)}function S(){W&&(L.off('click',T),D.off('click',E.hide),W=!1)}function T(e){e.stopPropagation()}function F(e){e=e||A.target||r;var n=e[0],o='BODY'===n.tagName,i=n.getBoundingClientRect(),s={};for(var l in i)s[l]=i[l];null===s.width&&(s=angular.extend({},s,{width:i.right-i.left,height:i.bottom-i.top}));var u=o?{top:0,left:0}:c.offset(n),d={scroll:o?t.documentElement.scrollTop||t.body.scrollTop:e.prop('scrollTop')||0},g=o?{width:t.documentElement.clientWidth,height:a.innerHeight}:null;return angular.extend({},s,d,g,u)}function M(e,t,a,n){var o,r=e.split('-');switch(r[0]){case'right':o={top:t.top+t.height/2-n/2,left:t.left+t.width};break;case'bottom':o={top:t.top+t.height,left:t.left+t.width/2-a/2};break;case'left':o={top:t.top+t.height/2-n/2,left:t.left-a};break;default:o={top:t.top-n,left:t.left+t.width/2-a/2}}if(!r[1])return o;if('top'===r[0]||'bottom'===r[0])switch(r[1]){case'left':o.left=t.left;break;case'right':o.left=t.left+t.width-a}else if('left'===r[0]||'right'===r[0])switch(r[1]){case'top':o.top=t.top-n+t.height;break;case'bottom':o.top=t.top}return o}function k(e,t){var a=L[0],n=a.offsetWidth,o=a.offsetHeight,r=parseInt(c.css(a,'margin-top'),10),i=parseInt(c.css(a,'margin-left'),10);isNaN(r)&&(r=0),isNaN(i)&&(i=0),e.top=e.top+r,e.left=e.left+i,c.setOffset(a,angular.extend({using:function(e){L.css({top:Math.round(e.top)+'px',left:Math.round(e.left)+'px',right:''})}},e),0);var s=a.offsetWidth,l=a.offsetHeight;if('top'===t&&l!==o&&(e.top=e.top+o-l),!/top-left|top-right|bottom-left|bottom-right/.test(t)){var u=x(t,e,s,l);if(u.left?e.left+=u.left:e.top+=u.top,c.setOffset(a,e),/top|right|bottom|left/.test(t)){var d=/top|bottom/.test(t),g=d?2*u.left-n+s:2*u.top-o+l,m=d?'offsetWidth':'offsetHeight';C(g,a[m],d)}}}function x(e,t,a,n){var o={top:0,left:0};if(!E.$viewport)return o;var r=A.viewport&&A.viewport.padding||0,i=F(E.$viewport);if(/right|left/.test(e)){var s=t.top-r-i.scroll,l=t.top+r-i.scroll+n;s<i.top?o.top=i.top-s:l>i.top+i.height&&(o.top=i.top+i.height-l)}else{var u=t.left-r,c=t.left+r+a;u<i.left?o.left=i.left-u:c>i.right&&(o.left=i.left+i.width-c)}return o}function C(e,t,a){var n=p('.tooltip-arrow, .arrow',L[0]);n.css(a?'left':'top',50*(1-e/t)+'%').css(a?'top':'left','')}function V(){clearTimeout(I),E.$isShown&&null!==L&&(A.autoClose&&S(),A.keyboard&&y()),R&&(R.$destroy(),R=null),L&&(L.remove(),L=E.$element=null)}var E={},A=E.$options=angular.extend({},e,i),N=E.$promise=o.compile(A),H=E.$scope=A.scope&&A.scope.$new()||n.$new(),P=r[0].nodeName.toLowerCase();if(A.delay&&angular.isString(A.delay)){var Y=A.delay.split(',').map(parseFloat);A.delay=Y.length>1?{show:Y[0],hide:Y[1]}:Y[0]}E.$id=A.id||r.attr('id')||'',A.title&&(H.title=u.trustAsHtml(A.title)),H.$setEnabled=function(e){H.$$postDigest(function(){E.setEnabled(e)})},H.$hide=function(){H.$$postDigest(function(){E.hide()})},H.$show=function(){H.$$postDigest(function(){E.show()})},H.$toggle=function(){H.$$postDigest(function(){E.toggle()})},E.$isShown=H.$isShown=!1;var I,O,U,L,z,R;N.then(function(e){U=e,E.init()}),E.init=function(){A.delay&&angular.isNumber(A.delay)&&(A.delay={show:A.delay,hide:A.delay}),'self'===A.container?z=r:angular.isElement(A.container)?z=A.container:A.container&&(z=p(A.container)),h(),A.target&&(A.target=angular.isElement(A.target)?A.target:p(A.target)),A.show&&H.$$postDigest(function(){'focus'===A.trigger?r[0].focus():E.show()})},E.destroy=function(){v(),V(),H.$destroy()},E.enter=function(){return clearTimeout(I),O='in',A.delay&&A.delay.show?void(I=setTimeout(function(){'in'===O&&E.show()},A.delay.show)):E.show()},E.show=function(){if(A.bsEnabled&&!E.$isShown){H.$emit(A.prefixEvent+'.show.before',E),angular.isDefined(A.onBeforeShow)&&angular.isFunction(A.onBeforeShow)&&A.onBeforeShow(E);var e,t;A.container?(e=z,t=z[0].lastChild?angular.element(z[0].lastChild):null):(e=null,t=r),L&&V(),R=E.$scope.$new(),L=E.$element=U.link(R,function(e,t){}),L.css({top:'-9999px',left:'-9999px',right:'auto',display:'block',visibility:'hidden'}),A.animation&&L.addClass(A.animation),A.type&&L.addClass(A.prefixClass+'-'+A.type),A.customClass&&L.addClass(A.customClass),t?t.after(L):e.prepend(L),E.$isShown=H.$isShown=!0,f(H),E.$applyPlacement(),angular.version.minor<=2?l.enter(L,e,t,s):l.enter(L,e,t).then(s),f(H),d(function(){L&&L.css({visibility:'visible'}),A.keyboard&&('focus'!==A.trigger&&E.focus(),w())}),A.autoClose&&b()}},E.leave=function(){return clearTimeout(I),O='out',A.delay&&A.delay.hide?void(I=setTimeout(function(){'out'===O&&E.hide()},A.delay.hide)):E.hide()};var B,j;E.hide=function(e){E.$isShown&&(H.$emit(A.prefixEvent+'.hide.before',E),angular.isDefined(A.onBeforeHide)&&angular.isFunction(A.onBeforeHide)&&A.onBeforeHide(E),B=e,j=L,angular.version.minor<=2?l.leave(L,m):l.leave(L).then(m),E.$isShown=H.$isShown=!1,f(H),A.keyboard&&null!==L&&y(),A.autoClose&&null!==L&&S())},E.toggle=function(e){e&&e.preventDefault(),E.$isShown?E.leave():E.enter()},E.focus=function(){L[0].focus()},E.setEnabled=function(e){A.bsEnabled=e},E.setViewport=function(e){A.viewport=e},E.$applyPlacement=function(){if(L){var t=A.placement,a=/\s?auto?\s?/i,n=a.test(t);n&&(t=t.replace(a,'')||e.placement),L.addClass(A.placement);var o=F(),r=L.prop('offsetWidth'),i=L.prop('offsetHeight');if(E.$viewport=A.viewport&&p(A.viewport.selector||A.viewport),n){var s=t,l=F(E.$viewport);/bottom/.test(s)&&o.bottom+i>l.bottom?t=s.replace('bottom','top'):/top/.test(s)&&o.top-i<l.top&&(t=s.replace('top','bottom')),/left/.test(s)&&o.left-r<l.left?t=t.replace('left','right'):/right/.test(s)&&o.right+r>l.width&&(t=t.replace('right','left')),L.removeClass(s).addClass(t)}var u=M(t,o,r,i);k(u,t)}},E.$onKeyUp=function(e){27===e.which&&E.$isShown&&(E.hide(),e.stopPropagation())},E.$onFocusKeyUp=function(e){27===e.which&&(r[0].blur(),e.stopPropagation())},E.$onFocusElementMouseDown=function(e){A.mouseDownPreventDefault&&e.preventDefault(),A.mouseDownStopPropagation&&e.stopPropagation(),E.$isShown?(r[0].focus(),r[0].blur()):r[0].focus()};var W=!1;return E}function f(e){e.$$phase||e.$root&&e.$root.$$phase||e.$digest()}function p(e,a){return angular.element((a||t).querySelectorAll(e))}var h=/(ip[ao]d|iphone|android)/gi.test(a.navigator.userAgent),$='createTouch'in a.document&&h,D=angular.element(a.document);return m}]}).directive('bsTooltip',['$window','$location','$sce','$parse','$bsTooltip','$$rAF',function(e,t,a,n,o,r){return{restrict:'EAC',scope:!0,link:function(e,t,n,i){var s,l={scope:e};angular.forEach(['template','templateUrl','controller','controllerAs','titleTemplate','placement','container','delay','trigger','html','animation','backdropAnimation','type','customClass','id'],function(e){angular.isDefined(n[e])&&(l[e]=n[e])});var u=/^(false|0|)$/i;angular.forEach(['html','container'],function(e){angular.isDefined(n[e])&&u.test(n[e])&&(l[e]=!1)}),angular.forEach(['onBeforeShow','onShow','onBeforeHide','onHide'],function(t){var a='bs'+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(n[a])&&(l[t]=e.$eval(n[a]))});var c=t.attr('data-target');angular.isDefined(c)&&(u.test(c)?l.target=!1:l.target=c),e.hasOwnProperty('title')||(e.title=''),n.$observe('title',function(t){if(angular.isDefined(t)||!e.hasOwnProperty('title')){var n=e.title;e.title=a.trustAsHtml(t),angular.isDefined(n)&&r(function(){s&&s.$applyPlacement()})}}),n.$observe('disabled',function(e){e&&s.$isShown&&s.hide()}),n.bsTooltip&&e.$watch(n.bsTooltip,function(t,a){angular.isObject(t)?angular.extend(e,t):e.title=t,angular.isDefined(a)&&r(function(){s&&s.$applyPlacement()})},!0),n.bsShow&&e.$watch(n.bsShow,function(e,t){s&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(tooltip),?/i)),e===!0?s.show():s.hide())}),n.bsEnabled&&e.$watch(n.bsEnabled,function(e,t){s&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|1|,?(tooltip),?/i)),e===!1?s.setEnabled(!1):s.setEnabled(!0))}),n.viewport&&e.$watch(n.viewport,function(e){s&&angular.isDefined(e)&&s.setViewport(e)}),s=o(t,l),e.$on('$destroy',function(){s&&s.destroy(),l=null,s=null})}}}]),angular.module('mgcrea.ngStrap.timepicker',['mgcrea.ngStrap.helpers.dateParser','mgcrea.ngStrap.helpers.dateFormatter','mgcrea.ngStrap.tooltip']).provider('$bsTimepicker',function(){var e=this.defaults={animation:'am-fade',defaultDate:'auto',prefixClass:'timepicker',placement:'bottom-left',templateUrl:'timepicker/timepicker.tpl.html',trigger:'focus',container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:'date',timeFormat:'shortTime',timezone:null,modelTimeFormat:null,autoclose:!1,minTime:-(1/0),maxTime:+(1/0),length:5,hourStep:1,minuteStep:5,secondStep:5,roundDisplay:!1,iconUp:'nox-sort-up',iconDown:'nox-sort-down',arrowBehavior:'pager'};this.$get=['$window','$document','$rootScope','$sce','$bsDateFormatter','$bsTooltip','$timeout',function(t,a,n,o,r,i,s){function l(t,a,n){function o(e){var t=6e4*f.minuteStep;return new Date(Math.floor(e.getTime()/t)*t)}function l(e,a){var n=e+a;if(t[0].createTextRange){var o=t[0].createTextRange();o.collapse(!0),o.moveStart('character',e),o.moveEnd('character',n),o.select()}else t[0].setSelectionRange?t[0].setSelectionRange(e,n):angular.isUndefined(t[0].selectionStart)&&(t[0].selectionStart=e,t[0].selectionEnd=n)}function d(){t[0].focus()}var g=i(t,angular.extend({},e,n)),m=n.scope,f=g.$options,p=g.$scope,h=f.lang,$=function(e,t,a){return r.formatDate(e,t,h,a)},D=0,v=f.roundDisplay?o(new Date):new Date,w=a.$dateValue||v,y={hour:w.getHours(),meridian:w.getHours()<12,minute:w.getMinutes(),second:w.getSeconds(),millisecond:w.getMilliseconds()},b=r.getDatetimeFormat(f.timeFormat,h),S=r.hoursFormat(b),T=r.timeSeparator(b),F=r.minutesFormat(b),M=r.secondsFormat(b),k=r.showSeconds(b),x=r.showAM(b);p.$iconUp=f.iconUp,p.$iconDown=f.iconDown,p.$select=function(e,t){g.select(e,t)},p.$moveIndex=function(e,t){g.$moveIndex(e,t)},p.$switchMeridian=function(e){g.switchMeridian(e)},g.update=function(e){angular.isDate(e)&&!isNaN(e.getTime())?(g.$date=e,angular.extend(y,{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}),g.$build()):g.$isBuilt||g.$build()},g.select=function(e,t,n){a.$dateValue&&!isNaN(a.$dateValue.getTime())||(a.$dateValue='today'===f.defaultDate?new Date:new Date(1970,0,1)),angular.isDate(e)||(e=new Date(e)),0===t?a.$dateValue.setHours(e.getHours()):1===t?a.$dateValue.setMinutes(e.getMinutes()):2===t&&a.$dateValue.setSeconds(e.getSeconds()),a.$setViewValue(angular.copy(a.$dateValue)),a.$render(),f.autoclose&&!n&&s(function(){g.hide(!0)})},g.switchMeridian=function(e){if(a.$dateValue&&!isNaN(a.$dateValue.getTime())){var t=(e||a.$dateValue).getHours();a.$dateValue.setHours(t<12?t+12:t-12),a.$setViewValue(angular.copy(a.$dateValue)),a.$render()}},g.$build=function(){var e,t,a=p.midIndex=parseInt(f.length/2,10),n=[];for(e=0;e<f.length;e++)t=new Date(1970,0,1,y.hour-(a-e)*f.hourStep),n.push({date:t,label:$(t,S),selected:g.$date&&g.$isSelected(t,0),disabled:g.$isDisabled(t,0)});var o,r=[];for(e=0;e<f.length;e++)o=new Date(1970,0,1,0,y.minute-(a-e)*f.minuteStep),r.push({date:o,label:$(o,F),selected:g.$date&&g.$isSelected(o,1),disabled:g.$isDisabled(o,1)});var i,s=[];for(e=0;e<f.length;e++)i=new Date(1970,0,1,0,0,y.second-(a-e)*f.secondStep),s.push({date:i,label:$(i,M),selected:g.$date&&g.$isSelected(i,2),disabled:g.$isDisabled(i,2)});var l=[];for(e=0;e<f.length;e++)k?l.push([n[e],r[e],s[e]]):l.push([n[e],r[e]]);p.rows=l,p.showSeconds=k,p.showAM=x,p.isAM=(g.$date||n[a].date).getHours()<12,p.timeSeparator=T,g.$isBuilt=!0},g.$isSelected=function(e,t){return!!g.$date&&(0===t?e.getHours()===g.$date.getHours():1===t?e.getMinutes()===g.$date.getMinutes():2===t?e.getSeconds()===g.$date.getSeconds():void 0)},g.$isDisabled=function(e,t){var a;return 0===t?a=e.getTime()+6e4*y.minute+1e3*y.second:1===t?a=e.getTime()+36e5*y.hour+1e3*y.second:2===t&&(a=e.getTime()+36e5*y.hour+6e4*y.minute),a<1*f.minTime||a>1*f.maxTime},p.$arrowAction=function(e,t){'picker'===f.arrowBehavior?g.$setTimeByStep(e,t):g.$moveIndex(e,t)},g.$setTimeByStep=function(e,t){var a=new Date(g.$date||w),n=a.getHours(),o=a.getMinutes(),r=a.getSeconds();0===t?a.setHours(n-parseInt(f.hourStep,10)*e):1===t?a.setMinutes(o-parseInt(f.minuteStep,10)*e):2===t&&a.setSeconds(r-parseInt(f.secondStep,10)*e),g.select(a,t,!0)},g.$moveIndex=function(e,t){var a;0===t?(a=new Date(1970,0,1,y.hour+e*f.length,y.minute,y.second),angular.extend(y,{hour:a.getHours()})):1===t?(a=new Date(1970,0,1,y.hour,y.minute+e*f.length*f.minuteStep,y.second),angular.extend(y,{minute:a.getMinutes()})):2===t&&(a=new Date(1970,0,1,y.hour,y.minute,y.second+e*f.length*f.secondStep),angular.extend(y,{second:a.getSeconds()})),g.$build()},g.$onMouseDown=function(e){if('input'!==e.target.nodeName.toLowerCase()&&e.preventDefault(),e.stopPropagation(),c){var t=angular.element(e.target);'button'!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler('click')}},g.$onKeyDown=function(e){if(/(38|37|39|40|13)/.test(e.keyCode)&&!e.shiftKey&&!e.altKey){if(e.preventDefault(),e.stopPropagation(),13===e.keyCode)return void g.hide(!0);var t=new Date(g.$date),a=t.getHours(),n=$(t,S).length,o=t.getMinutes(),r=$(t,F).length,i=t.getSeconds(),s=$(t,M).length,u=1,c=/(37|39)/.test(e.keyCode),d=2+1*k+1*x;c&&(37===e.keyCode?D=D<1?d-1:D-1:39===e.keyCode&&(D=D<d-1?D+1:0));var p=[0,n],h=0;38===e.keyCode&&(h=-1),40===e.keyCode&&(h=1);var v=2===D&&k,w=2===D&&!k||3===D&&k;0===D?(t.setHours(a+h*parseInt(f.hourStep,10)),n=$(t,S).length,p=[0,n]):1===D?(t.setMinutes(o+h*parseInt(f.minuteStep,10)),r=$(t,F).length,p=[n+u,r]):v?(t.setSeconds(i+h*parseInt(f.secondStep,10)),s=$(t,M).length,p=[n+u+r+u,s]):w&&(c||g.switchMeridian(),p=[n+u+r+u+(s+u)*k,2]),g.select(t,D,!0),l(p[0],p[1]),m.$digest()}};var C=g.init;g.init=function(){return u&&f.useNative?(t.prop('type','time'),void t.css('-webkit-appearance','textfield')):(c&&(t.prop('type','text'),t.attr('readonly','true'),t.on('click',d)),void C())};var V=g.destroy;g.destroy=function(){u&&f.useNative&&t.off('click',d),V()};var E=g.show;g.show=function(){!c&&t.attr('readonly')||t.attr('disabled')||(E(),s(function(){g.$element&&g.$element.on(c?'touchstart':'mousedown',g.$onMouseDown),f.keyboard&&t&&t.on('keydown',g.$onKeyDown)},0,!1))};var A=g.hide;return g.hide=function(e){g.$isShown&&(g.$element&&g.$element.off(c?'touchstart':'mousedown',g.$onMouseDown),f.keyboard&&t&&t.off('keydown',g.$onKeyDown),A(e))},g}var u=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent),c='createTouch'in t.document&&u;return e.lang||(e.lang=r.getDefaultLocale()),l.defaults=e,l}]}).directive('bsTimepicker',['$window','$parse','$q','$bsDateFormatter','$bsDateParser','$bsTimepicker',function(e,t,n,o,r,i){var s=i.defaults,l=/(ip[ao]d|iphone|android)/gi.test(e.navigator.userAgent);return{restrict:'EAC',require:'ngModel',link:function(e,t,n,u){function c(e){if(angular.isDate(e)){var t=isNaN(g.minTime)||new Date(e.getTime()).setFullYear(1970,0,1)>=g.minTime,a=isNaN(g.maxTime)||new Date(e.getTime()).setFullYear(1970,0,1)<=g.maxTime,n=t&&a;u.$setValidity('date',n),u.$setValidity('min',t),u.$setValidity('max',a),n&&(u.$dateValue=e)}}function d(){return!u.$dateValue||isNaN(u.$dateValue.getTime())?'':h(u.$dateValue,g.timeFormat)}var g={scope:e};angular.forEach(['template','templateUrl','controller','controllerAs','placement','container','delay','trigger','keyboard','html','animation','autoclose','timeType','timeFormat','timezone','modelTimeFormat','useNative','hourStep','minuteStep','secondStep','length','arrowBehavior','iconUp','iconDown','roundDisplay','id','prefixClass','prefixEvent','defaultDate'],function(e){angular.isDefined(n[e])&&(g[e]=n[e])});var m=/^(false|0|)$/i;angular.forEach(['html','container','autoclose','useNative','roundDisplay'],function(e){angular.isDefined(n[e])&&m.test(n[e])&&(g[e]=!1)}),angular.forEach(['onBeforeShow','onShow','onBeforeHide','onHide'],function(t){var a='bs'+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(n[a])&&(g[t]=e.$eval(n[a]))}),l&&(g.useNative||s.useNative)&&(g.timeFormat='HH:mm');var f=i(t,u,g);g=f.$options;var p=g.lang,h=function(e,t,a){return o.formatDate(e,t,p,a)};n.bsShow&&e.$watch(n.bsShow,function(e,t){f&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(timepicker),?/i)),e===!0?f.show():f.hide())});var $=r({format:g.timeFormat,lang:p});angular.forEach(['minTime','maxTime'],function(e){angular.isDefined(n[e])&&n.$observe(e,function(t){f.$options[e]=$.getTimeForAttribute(e,t),isNaN(f.$options[e])||f.$build(),c(u.$dateValue)})}),e.$watch(n.ngModel,function(e,t){f.update(u.$dateValue)},!0),u.$parsers.unshift(function(e){var t;if(!e)return u.$setValidity('date',!0),null;var n=angular.isDate(e)?e:$.parse(e,u.$dateValue);return!n||isNaN(n.getTime())?(u.$setValidity('date',!1),a):(c(n),'string'===g.timeType?(t=$.timezoneOffsetAdjust(n,g.timezone,!0),h(t,g.modelTimeFormat||g.timeFormat)):(t=$.timezoneOffsetAdjust(u.$dateValue,g.timezone,!0),'number'===g.timeType?t.getTime():'unix'===g.timeType?t.getTime()/1e3:'iso'===g.timeType?t.toISOString():new Date(t)))}),u.$formatters.push(function(e){var t;return t=angular.isUndefined(e)||null===e?NaN:angular.isDate(e)?e:'string'===g.timeType?$.parse(e,null,g.modelTimeFormat):'unix'===g.timeType?new Date(1e3*e):new Date(e),u.$dateValue=$.timezoneOffsetAdjust(t,g.timezone),d()}),u.$render=function(){t.val(d())},e.$on('$destroy',function(){f&&f.destroy(),g=null,f=null})}}}]),angular.module('mgcrea.ngStrap.tab',[]).provider('$bsTab',function(){var e=this.defaults={animation:'am-fade',template:'tab/tab.tpl.html',navClass:'nav-tabs',activeClass:'active'},t=this.controller=function(t,a,n){var o=this;o.$options=angular.copy(e),angular.forEach(['animation','navClass','activeClass'],function(e){angular.isDefined(n[e])&&(o.$options[e]=n[e])}),t.$navClass=o.$options.navClass,t.$activeClass=o.$options.activeClass,o.$panes=t.$panes=[],o.$activePaneChangeListeners=o.$viewChangeListeners=[],o.$push=function(e){angular.isUndefined(o.$panes.$active)&&t.$setActive(e.name||0),o.$panes.push(e)},o.$remove=function(e){var t,a=o.$panes.indexOf(e),n=o.$panes.$active;t=angular.isString(n)?o.$panes.map(function(e){return e.name}).indexOf(n):o.$panes.$active,o.$panes.splice(a,1),a<t?t--:a===t&&t===o.$panes.length&&t--,t>=0&&t<o.$panes.length?o.$setActive(o.$panes[t].name||t):o.$setActive()},o.$setActive=t.$setActive=function(e){o.$panes.$active=e,o.$activePaneChangeListeners.forEach(function(e){e()})},o.$isActive=t.$isActive=function(e,t){return o.$panes.$active===e.name||o.$panes.$active===t}};this.$get=function(){var a={};return a.defaults=e,a.controller=t,a}}).directive('bsTabs',['$window','$animate','$bsTab','$parse',function(e,t,a,n){var o=a.defaults;return{require:['?ngModel','bsTabs'],transclude:!0,scope:!0,controller:['$scope','$element','$attrs',a.controller],templateUrl:function(e,t){return t.template||o.template},link:function(e,t,a,o){var r=o[0],i=o[1];if(r&&(i.$activePaneChangeListeners.push(function(){r.$setViewValue(i.$panes.$active)}),r.$formatters.push(function(e){return i.$setActive(e),e})),a.bsActivePane){var s=n(a.bsActivePane);i.$activePaneChangeListeners.push(function(){s.assign(e,i.$panes.$active)}),e.$watch(a.bsActivePane,function(e,t){i.$setActive(e)},!0)}}}}]).directive('bsPane',['$window','$animate','$sce',function(e,t,a){return{require:['^?ngModel','^bsTabs'],scope:!0,link:function(e,n,o,r){function i(){var a=s.$panes.indexOf(e);t[s.$isActive(e,a)?'addClass':'removeClass'](n,s.$options.activeClass)}var s=r[1];n.addClass('tab-pane'),o.$observe('title',function(t,n){e.title=a.trustAsHtml(t)}),e.name=o.name,e.link=!!o.link&&o.link,s.$options.animation&&n.addClass(s.$options.animation),o.$observe('disabled',function(t,a){e.disabled=e.$eval(t)}),s.$push(e),e.$on('$destroy',function(){s.$remove(e)}),s.$activePaneChangeListeners.push(function(){i()}),i()}}}]),angular.module('mgcrea.ngStrap.sort',[]).directive('bsSort',function(){return{scope:!0,compile:function(e,t){for(var a=e[0].querySelectorAll('th'),n=0,o=a.length;n<o;n++){var r=a[n];r=angular.element(r);var i=r.attr('data-sortable');if(i&&'false'!==i){var s=r.attr('data-name');r.append('<div class="sorter"><i class="nox-sort-up sort-asc" ng-class="{active: orderBy == \''+s+'\' && sortBy == \'asc\'}"></i><i class="nox-sort-down sort-desc" ng-class="{active: orderBy == \''+s+'\' && sortBy == \'desc\'}"></i></div>')}}return function(e,t,a){function n(t){if(o.totalItems!==-1){var a=angular.element(t.currentTarget),n=a.attr('data-name');n===e.orderBy?e.sortBy='asc'===e.sortBy?'desc':'asc':(e.orderBy=n,e.sortBy='desc'),e.$apply(),angular.isDefined(o.onSort)&&angular.isFunction(o.onSort)&&o.onSort(e.orderBy,e.sortBy)}}var o={scope:e,element:t,show:!1};angular.forEach(['onSort'],function(t){var n='bs'+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(a[n])&&(o[t]=e.$eval(a[n]))}),angular.isDefined(a.totalItems)&&a.$observe('totalItems',function(e){o.totalItems=e}),angular.forEach(['orderBy','sortBy'],function(t){angular.isDefined(a[t])&&(e[t]=e.$eval(a[t]))}),t.on('click','th',function(e){var t=angular.element(e.currentTarget),a=t.attr('data-sortable');a&&'false'!==a&&n(e)})}}}}),angular.module('mgcrea.ngStrap.select',['mgcrea.ngStrap.tooltip','mgcrea.ngStrap.helpers.parseOptions']).provider('$bsSelect',function(){var e=this.defaults={animation:'am-fade',prefixClass:'select',prefixEvent:'$select',placement:'bottom-left',templateUrl:'select/select.tpl.html',trigger:'focus',container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,autoClose:!1,search:!1,sort:!0,caretHtml:'&nbsp;<span class="select-arrow"><i class="nox-sort-down"></i></span>',placeholder:'Choose among the following...',allText:'All',noneText:'None',maxLength:3,maxLengthHtml:'selected',iconCheckmark:'glyphicon glyphicon-ok',toggle:!1};this.$get=['$window','$document','$rootScope','$bsTooltip','$timeout',function(n,o,r,i,s){function l(r,l,u){var d={},g=angular.extend({},e,u);d=i(r,g);var m=d.$scope;m.$matches=[],g.multiple?m.$activeIndex=[]:m.$activeIndex=-1,m.$isMultiple=g.multiple,m.$showAllNoneButtons=g.allNoneButtons&&g.multiple,m.$showSearch=g.search,m.$iconCheckmark=g.iconCheckmark,m.$allText=g.allText,m.$noneText=g.noneText,m.$searchText='',m.$changeSearchText=function(e){e.preventDefault(),e.stopPropagation()},m.$close=function(){m.$$postDigest(function(){d.hide(!0)})},m.$searchTextChange=function(e){m.searchText=e.searchText},m.$activate=function(e){m.$$postDigest(function(){d.activate(e)})},m.$select=function(e,t){m.$$postDigest(function(){d.select(e,t)})},m.$isVisible=function(){return d.$isVisible()},m.$isActive=function(e){return d.$isActive(e)},m.$selectAll=function(){for(var e=0;e<m.$matches.length;e++)m.$isActive(e)||m.$select(e)},m.$selectNone=function(){for(var e=0;e<m.$matches.length;e++)m.$isActive(e)&&m.$select(e)},d.update=function(e){m.$matches=e,d.$updateActiveIndex()},d.activate=function(e){return g.multiple?(d.$isActive(e)?m.$activeIndex.splice(m.$activeIndex.indexOf(e),1):m.$activeIndex.push(e),g.sort&&m.$activeIndex.sort(function(e,t){return e-t})):m.$activeIndex=e,m.$activeIndex},d.select=function(e,t){if(!(angular.isUndefined(e)||e<0||e>=m.$matches.length)){var n=m.$matches[e].value;m.$apply(function(){d.activate(e),g.multiple?l.$setViewValue(m.$activeIndex.map(function(e){return angular.isUndefined(m.$matches[e])?null:m.$matches[e].value})):(g.toggle?l.$setViewValue(n===l.$modelValue?a:n):l.$setViewValue(n),d.hide())}),m.$emit(g.prefixEvent+'.select',n,e,d),angular.isDefined(g.onSelect)&&angular.isFunction(g.onSelect)&&g.onSelect(n,e,d)}},d.$updateActiveIndex=function(){g.multiple?angular.isArray(l.$modelValue)?m.$activeIndex=l.$modelValue.map(function(e){return d.$getIndex(e)}):m.$activeIndex=[]:angular.isDefined(l.$modelValue)&&m.$matches.length?m.$activeIndex=d.$getIndex(l.$modelValue):m.$activeIndex=-1},d.$isVisible=function(){return g.minLength&&l?m.$matches.length&&l.$viewValue.length>=g.minLength:m.$matches.length},d.$isActive=function(e){return g.multiple?m.$activeIndex.indexOf(e)!==-1:m.$activeIndex===e},d.$getIndex=function(e){var t;for(t=m.$matches.length;t--&&!angular.equals(m.$matches[t].value,e););return t},d.$onMouseDown=function(e){if(e.preventDefault(!0),e.stopPropagation(!0),'search'===e.target.getAttribute('role')&&(e.target.focus(),m.searchText=''),c){var t,a=angular.element(e.target);if('A'!==e.target.nodeName)for(var n=a.parent();!t&&n.length>0;)'A'===n[0].nodeName&&(t=n),n=n.parent();t?angular.element(t).triggerHandler('click'):a.triggerHandler('click')}},d.$onKeyDown=function(e){if(/(9|13|38|40)/.test(e.keyCode))return 9!==e.keyCode&&(e.preventDefault(),e.stopPropagation()),g.multiple&&9===e.keyCode?d.hide():g.multiple||13!==e.keyCode&&9!==e.keyCode?void(g.multiple||(38===e.keyCode&&m.$activeIndex>0?m.$activeIndex--:38===e.keyCode&&m.$activeIndex<0?m.$activeIndex=m.$matches.length-1:40===e.keyCode&&m.$activeIndex<m.$matches.length-1?m.$activeIndex++:angular.isUndefined(m.$activeIndex)&&(m.$activeIndex=0),m.$digest())):d.select(m.$activeIndex)},d.$isIE=function(){var e=n.navigator.userAgent;return e.indexOf('MSIE ')>0||e.indexOf('Trident/')>0||e.indexOf('Edge/')>0},d.$selectScrollFix=function(e){'UL'===o[0].activeElement.tagName&&(e.preventDefault(),e.stopImmediatePropagation(),e.target.focus())};var f=d.show;d.show=function(){f(),g.multiple&&(d.$element.addClass('select-multiple'),'focus'===g.trigger&&d.$element.find('input').on('blur',function(){d.hide()})),s(function(){d.$element.on(c?'touchstart':'mousedown',d.$onMouseDown),g.keyboard&&r.on('keydown',d.$onKeyDown)},0,!1)};var p=d.hide;return d.hide=function(e){s(function(){(e||'focus'!==g.trigger||'search'!==t.activeElement.getAttribute('role'))&&(!g.multiple&&angular.isUndefined(l.$modelValue)&&(m.$activeIndex=-1),g.search&&(m.searchText=''),d.$element.off(c?'touchstart':'mousedown',d.$onMouseDown),g.keyboard&&r.off('keydown',d.$onKeyDown),p(!0))})},d}var u=/(ip[ao]d|iphone|android)/gi.test(n.navigator.userAgent),c='createTouch'in n.document&&u;return l.defaults=e,l}]}).directive('bsSelect',['$window','$parse','$q','$bsSelect','$bsParseOptions',function(e,t,a,n,o){var r=n.defaults;return{restrict:'EAC',require:'ngModel',link:function(e,t,a,i){var s={scope:e,placeholder:r.placeholder};angular.forEach(['template','templateUrl','controller','controllerAs','placement','container','delay','trigger','keyboard','html','animation','placeholder','allNoneButtons','maxLength','maxLengthHtml','allText','noneText','iconCheckmark','autoClose','id','sort','search','caretHtml','prefixClass','prefixEvent','toggle'],function(e){angular.isDefined(a[e])&&(s[e]=a[e])});var l=/^(false|0|)$/i;angular.forEach(['html','container','allNoneButtons','sort','search'],function(e){angular.isDefined(a[e])&&l.test(a[e])&&(s[e]=!1)}),angular.forEach(['onBeforeShow','onShow','onBeforeHide','onHide','onSelect'],function(t){var n='bs'+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(a[n])&&(s[t]=e.$eval(a[n]))});var u=t.attr('data-multiple');angular.isDefined(u)&&(l.test(u)?s.multiple=!1:s.multiple=u);var c=t.attr('data-search');if(angular.isDefined(c)&&(l.test(c)?s.search=!1:(s.search=c,e.searchText='')),'select'===t[0].nodeName.toLowerCase()){var d=t;d.css('display','none'),t=angular.element('<button type="button" class="btn btn-default"></button>'),d.after(t)}var g=o(a.bsOptions),m=n(t,i,s);m.$isIE()&&t[0].addEventListener('blur',m.$selectScrollFix);var f=g.$match[7].replace(/\|.+/,'').trim();e.$watch(f,function(t,a){g.valuesFn(e,i).then(function(e){m.update(e),i.$render()})},!0),e.$watch(a.ngModel,function(e,t){m.$updateActiveIndex(),i.$render()},!0),i.$render=function(){var e,a;s.multiple&&angular.isArray(i.$modelValue)?(e=i.$modelValue.map(function(e){return a=m.$getIndex(e),a!==-1&&m.$scope.$matches[a].label}).filter(angular.isDefined),e=e.length>(s.maxLength||r.maxLength)?e.length+' '+(s.maxLengthHtml||r.maxLengthHtml):e.join(', ')):(a=m.$getIndex(i.$modelValue),e=a!==-1&&m.$scope.$matches[a].label),t.html((e||s.placeholder)+(s.caretHtml||r.caretHtml))},s.multiple&&(i.$isEmpty=function(e){return!e||0===e.length}),e.$on('$destroy',function(){m&&m.destroy(),s=null,m=null})}}}]).filter('searchFilter',function(){return function(e,t,a){var n=[];return angular.forEach(e,function(e){e[t].toLowerCase().indexOf(a.toLowerCase())>-1&&n.push(e)}),n}}),angular.module('mgcrea.ngStrap.rangedatepicker',['mgcrea.ngStrap.helpers.dateParser','mgcrea.ngStrap.helpers.dateFormatter','mgcrea.ngStrap.tooltip']).provider('$rangedatepicker',function(){
var e=this.defaults={animation:'am-fade',prefixClass:'rangedatepicker',placement:'bottom-left',templateUrl:'rangedatepicker/rangedatepicker.tpl.html',trigger:'click',container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,connector:' / ',dateType:'date',dateFormat:'yyyy-MM-dd',timezone:null,modelDateFormat:null,dayFormat:'dd',monthFormat:'MMM',yearFormat:'yyyy',monthTitleFormat:'MMMM yyyy',yearTitleFormat:'yyyy',strictFormat:!1,autoclose:!1,minDate:-(1/0),maxDate:+(1/0),minView:0,startWeek:0,daysOfWeekDisabled:'',iconLeft:'nox-sort-left',iconRight:'nox-sort-right',compare:!0};this.$get=['$window','$document','$rootScope','$sce','$bsDateFormatter','rangedatepickerViews','$bsTooltip','$timeout',function(t,a,n,o,r,i,s,l){function u(t,a,n){function o(e){e.selected=u.$isSelected(e.date)}function r(){t[0].focus()}var u=s(t,angular.extend({},e,n)),g=u.$options,m=u.$scope,f=i(u);u.$views=f.views;var p=f.viewDate;m.$mode=g.minView,m.$iconLeft=g.iconLeft,m.$iconRight=g.iconRight,m.$compare=g.compare;var h=u.$views[0];m.rangeList=h.rangeList;var $=new Date;u.$today=new Date($.getFullYear(),$.getMonth(),$.getDate()),m.ctrl={rangeType:'',compare:''},m.$select=function(e,t){m.ctrl.compare&&t||u.select(e,t)},m.$selectPane=function(e,t){m.ctrl.compare&&t||u.$selectPane(e,t)},m.$selectRange=function(e){e===m.ctrl.rangeType||m.ctrl.compare||(u.$selectRange(e),u.hide(!0))},m.$toggleCompare=function(){var e=a.$modelValue?angular.copy(a.$modelValue):{};e.compare=m.ctrl.compare,e.onlyCompare=!0,a.$setViewValue(e),a.$render()},m.$closePicker=function(){u.hide()},m.$stopPropagation=function(e){e.stopPropagation()},u.update=function(e,t,a){angular.isDate(e)&&!isNaN(e.getTime())&&angular.isDate(t)&&!isNaN(t.getTime())?(m.ctrl.compare?u.$compareDate=[e,t]:u.$date=[e,t],h.update.call(h,e,t)):u.$build(!a)},u.updateDisabledDates=function(e){g.disabledDateRanges=e;for(var t=0,a=m.rows.length;t<a;t++)angular.forEach(m.rows[t],u.$setDisabledEl)},u.select=function(e,t,n){var o=a.$modelValue?angular.copy(a.$modelValue):{};o.compare=m.ctrl.compare,m.ctrl.compare?(a.$compareDateValue=a.$compareDateValue?a.$compareDateValue:[],angular.isDate(e)?angular.isDate(a.$compareDateValue[t])&&!isNaN(a.$compareDateValue[t].getTime())||(a.$compareDateValue[t]=new Date(e)):a.$compareDateValue[t]=null,0===t?o.compareStartDate=angular.copy(e):o.compareEndDate=angular.copy(e)):(angular.isDate(e)?angular.isDate(a.$dateValue[t])&&!isNaN(a.$dateValue[t].getTime())||(a.$dateValue[t]=new Date(e)):a.$dateValue[t]=null,0===t?o.startDate=angular.copy(e):o.endDate=angular.copy(e)),o.onlyCompare=!1,a.$setViewValue(o),a.$render(),g.autoclose&&!n&&l(function(){u.hide(!0)})},u.$getCompare=function(){return m.ctrl&&m.ctrl.compare},u.$setCompare=function(){m.ctrl&&(m.ctrl.compare='compare')},u.$build=function(e){e===!0&&h.built||(e!==!1||h.built)&&h.build.call(h,u.$date)},u.$updateSelected=function(){for(var e=0,t=m.rows.length;e<t;e++)angular.forEach(m.rows[e],o)},u.$isSelected=function(e){return h.isSelected(e)},u.$setDisabledEl=function(e){e.disabled=h.isDisabled(e.date)},u.$selectPane=function(e,t){var a=h.steps,n=0===t?'startDate':'endDate',o=new Date(Date.UTC(p[n].year+(a.year||0)*e,p[n].month+(a.month||0)*e,1));angular.extend(p[n],{year:o.getUTCFullYear(),month:o.getUTCMonth(),date:o.getUTCDate()}),u.$build()},u.$selectRange=function(e){var t,n=e.substr(-1),o=parseInt(e.substr(0,e.length-1),10),r=u.$today;switch(n){case'd':o<0?(t=new Date(r.getFullYear(),r.getMonth(),r.getDate()+o+1),o===-2&&(r=t)):(t=r,r=new Date(r.getFullYear(),r.getMonth(),r.getDate()+o));break;case'w':var i=r.getDay();o<=0?(t=new Date(r.getFullYear(),r.getMonth(),r.getDate()+7*o+(i*-1+1)),r=new Date(r.getFullYear(),r.getMonth(),r.getDate()+i*-1)):(t=new Date(r.getFullYear(),r.getMonth(),r.getDate()+7-i+1),r=new Date(r.getFullYear(),r.getMonth(),r.getDate()+7*o+(7-i)));break;case'm':0===o?t=new Date(r.getFullYear(),r.getMonth(),1):o<0?(t=new Date(r.getFullYear(),r.getMonth()+o,1),r=new Date(r.getFullYear(),r.getMonth()+o+1,0)):(t=new Date(r.getFullYear(),r.getMonth()+1,1),r=new Date(r.getFullYear(),r.getMonth()+o+1,0))}if(angular.isDate(t)&&angular.isDate(r)){a.$dateValue[0]=angular.copy(t),a.$dateValue[1]=angular.copy(r);var s=a.$modelValue?angular.copy(a.$modelValue):{};s.startDate=angular.copy(t),s.endDate=angular.copy(r),s.onlyCompare=!1,a.$setViewValue(s),a.$render(),m.ctrl.rangeType=e}},u.$onMouseDown=function(e){e.preventDefault(!0),e.stopPropagation(!0);var t=angular.element(e.target);d&&('button'!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler('click'))};var D=u.init;u.init=function(){return c&&g.useNative?(t.prop('type','date'),void t.css('-webkit-appearance','textfield')):(d&&(t.prop('type','text'),t.attr('readonly','true'),t.on('click',r)),void D())};var v=u.destroy;u.destroy=function(){c&&g.useNative&&t.off('click',r),v()};var w=u.show;u.show=function(){t.attr('disabled')||(w(),l(function(){u.$isShown&&u.$element.on(d?'touchstart':'mousedown',u.$onMouseDown)},0,!1))};var y=u.hide;return u.hide=function(e){u.$isShown&&(u.$element.off(d?'touchstart':'mousedown',u.$onMouseDown),y(e))},u}var c=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent),d='createTouch'in t.document&&c;return e.lang||(e.lang=r.getDefaultLocale()),u.defaults=e,u}]}).directive('bsRangedatepicker',['$window','$parse','$q','$bsDateFormatter','$bsDateParser','$rangedatepicker',function(e,t,a,n,o,r){var i=/(ip[ao]d|iphone|android)/gi.test(e.navigator.userAgent);return{restrict:'EAC',require:'ngModel',link:function(e,t,a,s){function l(e){var t;return t=angular.isDate(e)?e:'string'===d.dateType?h.parse(e,null,d.modelDateFormat):'unix'===d.dateType?new Date(1e3*e):new Date(e)}function u(e,t){if(!angular.isDate(e)||!angular.isDate(t))return!1;var a=isNaN(m.$options.minDate)||e.getTime()>=m.$options.minDate,n=isNaN(m.$options.maxDate)||t.getTime()<=m.$options.maxDate,o=a&&n;s.$setValidity('date',o),s.$setValidity('min',a),s.$setValidity('max',n);var r=m.$getCompare();return o&&(r?(s.$compareDateValue[0]=e,s.$compareDateValue[1]=t):(s.$dateValue[0]=e,s.$dateValue[1]=t)),!0}function c(){if(!s.$modelValue||!s.$modelValue.startDate||isNaN(s.$modelValue.startDate.getTime()))return'';var e=p(s.$modelValue.startDate,d.dateFormat);return s.$modelValue.compare&&s.$modelValue.compareStartDate&&!isNaN(s.$modelValue.compareStartDate.getTime())?e+=' vs '+p(s.$modelValue.compareStartDate,d.dateFormat):s.$modelValue.compare||!s.$modelValue.endDate||isNaN(s.$modelValue.endDate.getTime())||(e+=' / '+p(s.$modelValue.endDate,d.dateFormat)),e}var d={scope:e};angular.forEach(['template','templateUrl','controller','controllerAs','placement','container','delay','trigger','html','animation','autoclose','dateType','connector','dateFormat','timezone','modelDateFormat','dayFormat','strictFormat','startWeek','startDate','useNative','lang','minView','iconLeft','iconRight','daysOfWeekDisabled','id','prefixClass','prefixEvent','compare'],function(e){angular.isDefined(a[e])&&(d[e]=a[e])});var g=/^(false|0|)$/i;angular.forEach(['html','container','autoclose','useNative','compare'],function(e){angular.isDefined(a[e])&&g.test(a[e])&&(d[e]=!1)}),angular.forEach(['onBeforeShow','onShow','onBeforeHide','onHide'],function(t){var n='bs'+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(a[n])&&(d[t]=e.$eval(a[n]))});var m=r(t,s,d);d=m.$options,i&&d.useNative&&(d.dateFormat='yyyy-MM-dd');var f=d.lang,p=function(e,t){return n.formatDate(e,t,f)},h=o({format:d.dateFormat,lang:f,strict:d.strictFormat});angular.forEach(['minDate','maxDate'],function(e){angular.isDefined(a[e])&&a.$observe(e,function(t){m.$options[e]=h.getDateForAttribute(e,t),isNaN(m.$options[e])||m.$build(!1)})}),angular.isDefined(a.dateFormat)&&a.$observe('dateFormat',function(e){m.$options.dateFormat=e}),e.$watch(a.ngModel,function(e,t){e&&e.onlyCompare?m.update(null,null,!0):m.$getCompare()?(m.$date=[s.$dateValue[0],s.$dateValue[1]],m.update(s.$compareDateValue[0],s.$compareDateValue[1])):m.update(s.$dateValue[0],s.$dateValue[1])},!0),s.$parsers.unshift(function(e){var t=m.$getCompare();if(!e)return s.$setValidity('date',!0),null;if(e.onlyCompare)return e.compare=t,e;var a,n;if(t?(a=h.parse(e.compareStartDate,s.$compareDateValue[0]),n=h.parse(e.compareEndDate,s.$compareDateValue[1])):(a=h.parse(e.startDate,s.$dateValue[0]),n=h.parse(e.endDate,s.$dateValue[1])),a&&!n&&(n=angular.copy(a)),!a&&n&&(a=angular.copy(n)),!a||isNaN(a.getTime())||!n||isNaN(n.getTime()))return s.$setValidity('date',!1),!1;u(a,n);var o={dateRange:e.dateRange,compare:t},r='',i='';if(t?(o.startDate=e.startDate,o.endDate=e.endDate,r='compareStartDate',i='compareEndDate'):(o.compareStartDate=e.compareStartDate,o.compareEndDate=e.compareEndDate,r='startDate',i='endDate'),'string'===d.dateType)return o[r]=p(h.timezoneOffsetAdjust(a,d.timezone,!0),d.modelDateFormat||d.dateFormat),o[i]=p(h.timezoneOffsetAdjust(n,d.timezone,!0),d.modelDateFormat||d.dateFormat),o;var l,c;return t?(l=h.timezoneOffsetAdjust(s.$compareDateValue[0],d.timezone,!0),c=h.timezoneOffsetAdjust(s.$compareDateValue[1],d.timezone,!0)):(l=h.timezoneOffsetAdjust(s.$dateValue[0],d.timezone,!0),c=h.timezoneOffsetAdjust(s.$dateValue[1],d.timezone,!0)),'number'===d.dateType?(o[r]=l.getTime(),o[i]=c.getTime()):'unix'===d.dateType?(o[r]=l.getTime()/1e3,o[i]=c.getTime()/1e3):'iso'===d.dateType?(o[r]=l.toISOString(),o[i]=c.toISOString()):(o[r]=new Date(l),o[i]=new Date(c)),o}),s.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return'';if(e.dateRange)s.$dateRange=e.dateRange,s.$dateValue=s.$dateValue?s.$dateValue:[],m.$selectRange(s.$dateRange);else{if(s.$dateValue=[],s.$compareDateValue=[],e.startDate&&e.endDate){var t=l(e.startDate),a=l(e.endDate);s.$dateValue=[h.timezoneOffsetAdjust(t,d.timezone),h.timezoneOffsetAdjust(a,d.timezone)]}if(e.compareStartDate&&e.compareEndDate){var n=l(e.compareStartDate),o=l(e.compareEndDate);s.$compareDateValue=[h.timezoneOffsetAdjust(n,d.timezone),h.timezoneOffsetAdjust(o,d.timezone)],e.compare&&m.$setCompare()}}return c()}),s.$render=function(){t.val(c())},e.$on('$destroy',function(){m&&m.destroy(),d=null,m=null})}}}]).provider('rangedatepickerViews',function(){function e(e,t){for(var a=[];e.length>0;)a.push(e.splice(0,t));return a}function t(e,t){return(e%t+t)%t}this.$get=['$bsDateFormatter','$bsDateParser','$sce',function(a,n,o){return function(r){var i=r.$scope,s=r.$options,l=s.lang,u=function(e,t){return a.formatDate(e,t,l)},c=n({format:s.dateFormat,lang:l,strict:s.strictFormat}),d=a.weekdaysShort(l),g=d.slice(s.startWeek).concat(d.slice(0,s.startWeek)),m=o.trustAsHtml('<th class="dow text-center">'+g.join('</th><th class="dow text-center">')+'</th>'),f=r.$date&&r.$date[0]||(s.startDate?c.getDateForAttribute('startDate',s.startDate):new Date),p=r.$date&&r.$date[1]||(s.endDate?c.getDateForAttribute('endDate',s.endDate):new Date),h={startDate:{year:f.getFullYear(),month:f.getMonth(),date:f.getDate()},endDate:{year:p.getFullYear(),month:p.getMonth(),date:p.getDate()}},$=new Date,D=new Date($.getFullYear(),$.getMonth(),$.getDate()),v=$.getDay(),w=[{format:s.dayFormat,split:7,steps:{month:1},rangeList:[{name:'Today',value:'0d',date:{start:D,end:D}},{name:'Yesterday',value:'-2d',date:{start:new Date(D.getFullYear(),D.getMonth(),D.getDate()-1),end:new Date(D.getFullYear(),D.getMonth(),D.getDate()-1)}},{name:'Last 7 Days',value:'-7d',date:{start:new Date(D.getFullYear(),D.getMonth(),D.getDate()-6),end:D}},{name:'Last Week',value:'-1w',date:{start:new Date(D.getFullYear(),D.getMonth(),D.getDate()-6-v),end:new Date(D.getFullYear(),D.getMonth(),D.getDate()-v)}},{name:'This Month',value:'0m',date:{start:new Date(D.getFullYear(),D.getMonth(),1),end:D}},{name:'Last Month',value:'-1m',date:{start:new Date(D.getFullYear(),D.getMonth()-1,1),end:new Date(D.getFullYear(),D.getMonth(),0)}}],update:function(e,t,a){h.startDate={year:e.getFullYear(),month:e.getMonth(),date:e.getDate()},h.endDate={year:t.getFullYear(),month:t.getMonth(),date:t.getDate()},r.$build()},build:function(){var a=this;if(i.title=[],i.rows=[],['startDate','endDate'].forEach(function(n,o){var l=h[n],d=new Date(l.year,l.month,1),g=d.getTimezoneOffset(),m=new Date(+d-864e5*t(d.getDay()-s.startWeek,7)),f=m.getTimezoneOffset(),p=c.timezoneOffsetAdjust(new Date,s.timezone).toDateString();f!==g&&(m=new Date(+m+6e4*(f-g)));for(var $,D=[],v=0;v<42;v++)$=c.daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth(),m.getDate()+v)),D.push({date:$,isToday:$.toDateString()===p,label:u($,a.format),selected:r.$date&&r.$date[o]&&(!r.$getCompare()||r.$getCompare()&&!o)&&a.isSelected(r.$date[o],$),inRange:a.isInRange($),muted:$.getMonth()!==l.month,disabled:1===o&&i.ctrl.compare||a.isDisabled($,o),compareSelect:0===o&&i.ctrl.compare&&r.$compareDate&&r.$compareDate[o]&&a.isSelected(r.$compareDate[o],$)});i.title[o]=u(d,s.monthTitleFormat),i.rows[o]=e(D,a.split)}),i.showLabels=!0,i.labels=m,i.isTodayDisabled=this.isDisabled(new Date),!i.ctrl.compare){var n=!1;a.rangeList.forEach(function(e){e.date.start.toDateString()===r.$date[0].toDateString()&&e.date.end.toDateString()===r.$date[1].toDateString()&&(i.ctrl.rangeType=e.value,n=!0)}),n||(i.ctrl.rangeType='')}this.built=!0},isSelected:function(e,t){return e&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},isInRange:function(e){if(!r.$date||r.$getCompare())return!1;var t=r.$date[0],a=r.$date[1];return!!(angular.isDate(t)&&angular.isDate(a)&&angular.isDate(e))&&(e.getTime()>=t.getTime()&&e.getTime()<=a.getTime())},isDisabled:function(e,t){var a=e.getTime();if(a<Date.parse(s.minDate)||a>Date.parse(s.maxDate))return!0;if(!i.ctrl.compare&&r.$date&&(t&&a<r.$date[t-1]||a>r.$date[t+1]))return!0;if(s.daysOfWeekDisabled.indexOf(e.getDay())!==-1)return!0;if(s.disabledDateRanges)for(var n=0;n<s.disabledDateRanges.length;n++)if(a>=s.disabledDateRanges[n].start&&a<=s.disabledDateRanges[n].end)return!0;return!1}},{name:'month',format:s.monthFormat,split:4,steps:{year:1},rangeList:[{name:'This Month',value:'0m',date:{start:new Date(D.getFullYear(),D.getMonth(),1),end:D}},{name:'Last Month',value:'-1m',date:{start:new Date(D.getFullYear(),D.getMonth()-1,1),end:new Date(D.getFullYear(),D.getMonth(),0)}},{name:'Two Months Ago',value:'-2m',date:{start:new Date(D.getFullYear(),D.getMonth()-2,1),end:new Date(D.getFullYear(),D.getMonth()-1,0)}}],update:function(e,t,a){h.startDate={year:e.getFullYear(),month:e.getMonth(),date:e.getDate()},h.endDate={year:t.getFullYear(),month:t.getMonth(),date:t.getDate()},r.$build()},build:function(){var t=this;if(i.title=[],i.rows=[],['startDate','endDate'].forEach(function(a,n){for(var o,l=[],c=0;c<12;c++)o=new Date(h[a].year,c,1),l.push({date:o,label:u(o,t.format),selected:r.$date&&r.$date[n]&&(!r.$getCompare()||r.$getCompare()&&!n)&&t.isSelected(r.$date[n],o),inRange:t.isInRange(o),disabled:1===n&&i.ctrl.compare||t.isDisabled(o,n),compareSelect:0===n&&i.ctrl.compare&&r.$compareDate&&r.$compareDate[n]&&t.isSelected(r.$compareDate[n],o)});i.title[n]=u(o,s.yearTitleFormat),i.rows[n]=e(l,t.split)}),i.showLabels=!1,!i.ctrl.compare){var a=!1;t.rangeList.forEach(function(e){e.date.start.toDateString()===r.$date[0].toDateString()&&e.date.end.toDateString()===r.$date[1].toDateString()&&(i.ctrl.rangeType=e.value,a=!0)}),a||(i.ctrl.rangeType='')}this.built=!0},isSelected:function(e,t){return e&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()},isInRange:function(e){if(!r.$date||r.$getCompare())return!1;var t=r.$date[0],a=r.$date[1];return!!(angular.isDate(t)&&angular.isDate(a)&&angular.isDate(e))&&(e.getTime()>=t.getTime()&&e.getTime()<=a.getTime())},isDisabled:function(e,t){var a=e.getTime(),n=+new Date(e.getFullYear(),e.getMonth()+1,0);return n<s.minDate||e.getTime()>s.maxDate||!i.ctrl.compare&&r.$date&&(t&&a<r.$date[t-1]||a>r.$date[t+1])}}];return{views:Array.prototype.slice.call(w,s.minView,s.minView+1),viewDate:h}}}]}),angular.module('mgcrea.ngStrap.popover',['mgcrea.ngStrap.tooltip']).provider('$bsPopover',function(){var e=this.defaults={animation:'am-fade',customClass:'',container:!1,target:!1,placement:'right',templateUrl:'popover/popover.tpl.html',contentTemplate:!1,trigger:'click',keyboard:!0,html:!1,title:'',content:'',delay:0,autoClose:!1};this.$get=['$bsTooltip',function(t){function a(a,n){var o=angular.extend({},e,n),r=t(a,o);return o.content&&(r.$scope.content=o.content),r}return a}]}).directive('bsPopover',['$window','$sce','$bsPopover',function(e,t,a){var n=e.requestAnimationFrame||e.setTimeout;return{restrict:'EAC',scope:!0,link:function(e,o,r){var i,s={scope:e};angular.forEach(['template','templateUrl','controller','controllerAs','contentTemplate','placement','container','delay','trigger','html','animation','customClass','autoClose','id','prefixClass','prefixEvent','bsEnabled'],function(e){angular.isDefined(r[e])&&(s[e]=r[e])});var l=/^(false|0|)$/i;angular.forEach(['html','container','autoClose'],function(e){angular.isDefined(r[e])&&l.test(r[e])&&(s[e]=!1)}),angular.forEach(['onBeforeShow','onShow','onBeforeHide','onHide'],function(t){var a='bs'+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(r[a])&&(s[t]=e.$eval(r[a]))});var u=o.attr('data-target');angular.isDefined(u)&&(l.test(u)?s.target=!1:s.target=u),angular.forEach(['title','content'],function(a){r[a]&&r.$observe(a,function(o,r){e[a]=t.trustAsHtml(o),angular.isDefined(r)&&n(function(){i&&i.$applyPlacement()})})}),r.bsPopover&&e.$watch(r.bsPopover,function(t,a){angular.isObject(t)?angular.extend(e,t):e.content=t,angular.isDefined(a)&&n(function(){i&&i.$applyPlacement()})},!0),r.bsShow&&e.$watch(r.bsShow,function(e,t){i&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(popover),?/i)),e===!0?i.show():i.hide())}),r.bsEnabled&&e.$watch(r.bsEnabled,function(e){i&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|1|,?(popover),?/i)),e===!1?i.setEnabled(!1):i.setEnabled(!0))}),r.viewport&&e.$watch(r.viewport,function(e){i&&angular.isDefined(e)&&i.setViewport(e)}),i=a(o,s),e.$on('$destroy',function(){i&&i.destroy(),s=null,i=null})}}}]),angular.module('mgcrea.ngStrap.pagination',[]).provider('$pagination',function(){var e=this.defaults={animation:'am-fade',pageClass:'pagination',pagesLength:5,itemsPerPage:20,templateUrl:'pagination/pagination.tpl.html'},t=this.controller=function(e,t,a){this.calculateTotalPages=function(e,t){var a=e<1?1:Math.ceil(t/e);return Math.max(a||0,1)},this.makePage=function(e,t,a){return{number:e,text:t,active:a}},this.getPages=function(e,t,a){e=e<1?1:t>0&&e>t?t:e;var n,o=[];if(t<=a)for(n=1;n<=t;n++)o.push(this.makePage(n,n,n===e));else{var r=(a-1)/2;if(e<=r){for(n=1;n<=r+1;n++)o.push(this.makePage(n,n,n===e));o.push(this.makePage(n+1,'...',!1)),o.push(this.makePage(t,t,!1))}else if(e>t-r)for(o.push(this.makePage(1,1,!1)),o.push(this.makePage(t-r-1,'...',!1)),n=r;n>=0;n--){var i=t-n;o.push(this.makePage(i,i,i===e))}else{o.push(this.makePage(1,1,!1));var s=Math.ceil(r/2);for(o.push(this.makePage(e-s-1,'...',!1)),n=s;n>=1;n--)o.push(this.makePage(e-n,e-n,!1));for(o.push(this.makePage(e,e,!0)),n=1;n<=s;n++)o.push(this.makePage(e+n,e+n,!1));o.push(this.makePage(e+s+1,'...',!1)),o.push(this.makePage(t,t,!1))}}return o}};this.$get=function(){var a={};return a.defaults=e,a.controller=t,a}}).directive('bsPagination',['$window','$sce','$parse','$pagination',function(e,t,a,n){var o=n.defaults;return{restrict:'E',require:['?ngModel','bsPagination'],scope:!0,replace:!0,controller:['$scope','$element','$attrs',n.controller],templateUrl:function(e,t){return t.template||o.templateUrl},link:function(e,t,a,n){var r=n[0],i=n[1];if(r){var s=angular.copy(o);angular.forEach(['pageClass','pagesLength','itemsPerPage'],function(t){angular.isDefined(a[t])&&(s[t]=e.$eval(a[t]))}),angular.forEach(['onChange'],function(t){var n='bs'+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(a[n])&&(s[t]=e.$eval(a[n]))}),a.totalItems&&a.$observe('totalItems',function(t,a){e.totalItems=t,e.totalPages=i.calculateTotalPages(s.itemsPerPage,e.totalItems),r.$render()}),e.$pageClass=s.pageClass,s.pagesLength%2===0&&(s.pagesLength=s.pagesLength+1),r.$render=function(){e.page=(e.page=parseInt(r.$viewValue,10)||1)>e.totalPages?e.totalPages:e.page,e.page>0&&e.page<=e.totalPages&&(e.pages=i.getPages(e.page,e.totalPages,s.pagesLength))},e.selectPage=function(t,a){a&&a.preventDefault(),e.page!==t&&t>0&&t<=e.totalPages&&(a&&a.target&&a.target.blur(),r.$setViewValue(t),r.$render(),angular.isDefined(s.onChange)&&angular.isFunction(s.onChange)&&s.onChange())},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages},e.selectPrevious=function(t){e.selectPage(e.page-1,t)},e.selectNext=function(t){e.selectPage(e.page+1,t)}}}}}]),angular.module('mgcrea.ngStrap.modal',['mgcrea.ngStrap.core','mgcrea.ngStrap.helpers.dimensions']).provider('$bsModal',function(){var a=this.defaults={animation:'am-fade',backdropAnimation:'am-fade',customClass:'',prefixClass:'modal',prefixEvent:'modal',placement:'top',templateUrl:'modal/modal.tpl.html',template:'',contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0,size:null,zIndex:null};this.$get=['$window','$rootScope','$bsCompiler','$animate','$timeout','$sce','bsDimensions',function(n,o,r,i,s,l,u){function c(n){function s(){E.$emit(C.prefixEvent+'.show',x),angular.isDefined(C.onShow)&&angular.isFunction(C.onShow)&&C.onShow(x)}function u(){C.backdrop&&k(),E.$emit(C.prefixEvent+'.hide',x),angular.isDefined(C.onHide)&&angular.isFunction(C.onHide)&&C.onHide(x),g('.modal').length<=0&&p.removeClass(C.prefixClass+'-open'),C.animation&&p.removeClass(C.prefixClass+'-with-'+C.animation)}function c(){C.backdrop&&(N.on('click',S),P.on('click',S),P.on('wheel',T))}function w(){C.backdrop&&(N.off('click',S),P.off('click',S),P.off('wheel',T))}function y(){C.keyboard&&N.on('keyup',x.$onKeyUp)}function b(){C.keyboard&&N.off('keyup',x.$onKeyUp)}function S(e){e.target===e.currentTarget&&('static'===C.backdrop?x.focus():x.hide())}function T(e){e.preventDefault()}function F(){x.$isShown&&null!==N&&(w(),b()),H&&(H.$destroy(),H=null),N&&(N.remove(),N=x.$element=null)}function M(){var a=t.createElement('div');a.className='modal-scrollbar-measure',p.append(a);var n=a.offsetWidth-a.clientWidth;p[0].removeChild(a);var o=e.innerWidth;if(!o){var r=t.documentElement.getBoundingClientRect();o=r.right-Math.abs(r.left)}var i=t.body.clientWidth<o;i&&p.css('padding-right',n+'px')}function k(){p.css('padding-right',0)}var x={},C=x.$options=angular.extend({},a,n),V=x.$promise=r.compile(C),E=x.$scope=C.scope&&C.scope.$new()||o.$new();C.element||C.container||(C.container='body'),C.zIndex&&($=parseInt(C.zIndex,10),D=$-10),x.$id=C.id||C.element&&C.element.attr('id')||'',m(['title','content'],function(e){C[e]&&(E[e]=l.trustAsHtml(C[e]))}),E.$hide=function(){E.$$postDigest(function(){x.hide()})},E.$show=function(){E.$$postDigest(function(){x.show()})},E.$toggle=function(){E.$$postDigest(function(){x.toggle()})},x.$isShown=E.$isShown=!1;var A,N,H,P=angular.element('<div class="'+C.prefixClass+'-backdrop"/>');return V.then(function(e){A=e,x.init()}),x.init=function(){C.show&&E.$$postDigest(function(){x.show()})},x.destroy=function(){F(),P&&(P.remove(),P=null),E.$destroy()},x.show=function(){if(!x.$isShown){var e,t;if(angular.isElement(C.container)?(e=C.container,t=C.container[0].lastChild?angular.element(C.container[0].lastChild):null):C.container?(e=g(C.container),t=e[0]&&e[0].lastChild?angular.element(e[0].lastChild):null):(e=null,t=C.element),C.backdrop&&M(),N&&F(),H=x.$scope.$new(),N=x.$element=A.link(H,function(e,t){}),C.backdrop&&(N.css({'z-index':$+20*h}),P.css({'z-index':D+20*h}),h++),!E.$emit(C.prefixEvent+'.show.before',x).defaultPrevented){angular.isDefined(C.onBeforeShow)&&angular.isFunction(C.onBeforeShow)&&C.onBeforeShow(x),N.css({display:'block'}).addClass(C.placement),C.customClass&&N.addClass(C.customClass),C.size&&v[C.size]&&angular.element(g('.modal-dialog',N[0])).addClass(v[C.size]),C.animation&&(C.backdrop&&P.addClass(C.backdropAnimation),N.addClass(C.animation)),C.backdrop&&i.enter(P,p,null),angular.version.minor<=2?i.enter(N,e,t,s):i.enter(N,e,t).then(s),x.$isShown=E.$isShown=!0,d(E);var a=N[0];f(function(){a.focus()}),p.addClass(C.prefixClass+'-open'),C.animation&&p.addClass(C.prefixClass+'-with-'+C.animation),c(),y()}}},x.hide=function(){x.$isShown&&(E.$emit(C.prefixEvent+'.hide.before',x).defaultPrevented||(angular.isDefined(C.onBeforeHide)&&angular.isFunction(C.onBeforeHide)&&C.onBeforeHide(x),angular.version.minor<=2?i.leave(N,u):i.leave(N).then(u),C.backdrop&&(h--,i.leave(P)),x.$isShown=E.$isShown=!1,d(E),w(),b()))},x.toggle=function(){x.$isShown?x.hide():x.show()},x.focus=function(){N[0].focus()},x.$onKeyUp=function(e){27===e.which&&x.$isShown&&(x.hide(),e.stopPropagation())},x}function d(e){e.$$phase||e.$root&&e.$root.$$phase||e.$digest()}function g(e,a){return angular.element((a||t).querySelectorAll(e))}var m=angular.forEach,f=n.requestAnimationFrame||n.setTimeout,p=angular.element(n.document.body),h=0,$=1050,D=1040,v={lg:'modal-dialog-lg',sm:'modal-dialog-sm'};return c}]}).directive('bsModal',['$window','$sce','$parse','$bsModal',function(e,t,a,n){return{restrict:'EAC',scope:!0,link:function(e,a,o,r){var i={scope:e,element:a,show:!1};angular.forEach(['template','templateUrl','controller','controllerAs','contentTemplate','placement','backdrop','keyboard','html','container','animation','backdropAnimation','id','prefixEvent','prefixClass','customClass','modalClass','size','zIndex'],function(e){angular.isDefined(o[e])&&(i[e]=o[e])}),i.modalClass&&(i.customClass=i.modalClass);var s=/^(false|0|)$/i;angular.forEach(['backdrop','keyboard','html','container'],function(e){angular.isDefined(o[e])&&s.test(o[e])&&(i[e]=!1)}),angular.forEach(['onBeforeShow','onShow','onBeforeHide','onHide'],function(t){var a='bs'+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(o[a])&&(i[t]=e.$eval(o[a]))}),angular.forEach(['title','content'],function(a){o[a]&&o.$observe(a,function(n,o){e[a]=t.trustAsHtml(n)})}),o.bsModal&&e.$watch(o.bsModal,function(t,a){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var l=n(i);a.on(o.trigger||'click',l.toggle),e.$on('$destroy',function(){l&&l.destroy(),i=null,l=null})}}}]),angular.version.minor<3&&angular.version.dot<14&&angular.module('ng').factory('$$rAF',['$window','$timeout',function(e,t){var a=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,n=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,o=!!a,r=o?function(e){var t=a(e);return function(){n(t)}}:function(e){var a=t(e,16.66,!1);return function(){t.cancel(a)}};return r.supported=o,r}]),angular.module('mgcrea.ngStrap.helpers.parseOptions',[]).provider('$bsParseOptions',function(){var e=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=['$parse','$q',function(t,a){function n(n,o){function r(e,t){return e.map(function(e,a){var n,o,r={};return r[c]=e,n=u(t,r),o=m(t,r),{label:n,value:o,index:a}})}var i={},s=angular.extend({},e,o);i.$values=[];var l,u,c,d,g,m,f;return i.init=function(){i.$match=l=n.match(s.regexp),u=t(l[2]||l[1]),c=l[4]||l[6],d=l[5],g=t(l[3]||''),m=t(l[2]?l[1]:c),f=t(l[7])},i.valuesFn=function(e,t){return a.when(f(e,t)).then(function(t){return angular.isArray(t)||(t=[]),i.$values=t.length?r(t,e):[],i.$values})},i.displayValue=function(e){var t={};return t[c]=e,u(t)},i.init(),i}return n}]}),angular.module('mgcrea.ngStrap.helpers.dimensions',[]).factory('bsDimensions',function(){function t(e){var t=e.ownerDocument,o=e.offsetParent||t;if(n(o,'#document'))return t.documentElement;for(;o&&!n(o,'html')&&'static'===a.css(o,'position');)o=o.offsetParent;return o||t.documentElement}var a={},n=a.nodeName=function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()};return a.css=function(t,a,n){var o;return o=t.currentStyle?t.currentStyle[a]:e.getComputedStyle?e.getComputedStyle(t)[a]:t.style[a],n===!0?parseFloat(o)||0:o},a.offset=function(t){var a=t.getBoundingClientRect(),n=t.ownerDocument;return{width:a.width||t.offsetWidth,height:a.height||t.offsetHeight,top:a.top+(e.pageYOffset||n.documentElement.scrollTop)-(n.documentElement.clientTop||0),left:a.left+(e.pageXOffset||n.documentElement.scrollLeft)-(n.documentElement.clientLeft||0)}},a.setOffset=function(e,t,n){var o,r,i,s,l,u,c,d=a.css(e,'position'),g=angular.element(e),m={};'static'===d&&(e.style.position='relative'),l=a.offset(e),i=a.css(e,'top'),u=a.css(e,'left'),c=('absolute'===d||'fixed'===d)&&(i+u).indexOf('auto')>-1,c?(o=a.position(e),s=o.top,r=o.left):(s=parseFloat(i)||0,r=parseFloat(u)||0),angular.isFunction(t)&&(t=t.call(e,n,l)),null!==t.top&&(m.top=t.top-l.top+s),null!==t.left&&(m.left=t.left-l.left+r),'using'in t?t.using.call(g,m):g.css({top:m.top+'px',left:m.left+'px'})},a.position=function(e){var o,r,i={top:0,left:0};return'fixed'===a.css(e,'position')?r=e.getBoundingClientRect():(o=t(e),r=a.offset(e),n(o,'html')||(i=a.offset(o)),i.top+=a.css(o,'borderTopWidth',!0),i.left+=a.css(o,'borderLeftWidth',!0)),{width:e.offsetWidth,height:e.offsetHeight,top:r.top-i.top-a.css(e,'marginTop',!0),left:r.left-i.left-a.css(e,'marginLeft',!0)}},a.height=function(e,t){var n=e.offsetHeight;return t?n+=a.css(e,'marginTop',!0)+a.css(e,'marginBottom',!0):n-=a.css(e,'paddingTop',!0)+a.css(e,'paddingBottom',!0)+a.css(e,'borderTopWidth',!0)+a.css(e,'borderBottomWidth',!0),n},a.width=function(e,t){var n=e.offsetWidth;return t?n+=a.css(e,'marginLeft',!0)+a.css(e,'marginRight',!0):n-=a.css(e,'paddingLeft',!0)+a.css(e,'paddingRight',!0)+a.css(e,'borderLeftWidth',!0)+a.css(e,'borderRightWidth',!0),n},a}),angular.module('mgcrea.ngStrap.helpers.debounce',[]).factory('bsDebounce',['$timeout',function(e){return function(t,a,n){var o=null;return function(){var r=this,i=arguments,s=n&&!o;return o&&e.cancel(o),o=e(function(){o=null,n||t.apply(r,i)},a,!1),s&&t.apply(r,i),o}}}]).factory('bsThrottle',['$timeout',function(e){return function(t,a,n){var o=null;return n||(n={}),function(){var r=this,i=arguments;o||(n.leading!==!1&&t.apply(r,i),o=e(function(){o=null,n.trailing!==!1&&t.apply(r,i)},a,!1))}}}]),angular.module('mgcrea.ngStrap.helpers.dateParser',[]).provider('$bsDateParser',['$localeProvider',function(e){function t(){this.year=1970,this.month=0,this.day=1,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0}function a(){}function n(e){return!isNaN(parseFloat(e))&&isFinite(e)}function o(e,t){for(var a=e.length,n=t.toString().toLowerCase(),o=0;o<a;o++)if(e[o].toLowerCase()===n)return o;return-1}t.prototype.setMilliseconds=function(e){this.milliseconds=e},t.prototype.setSeconds=function(e){this.seconds=e},t.prototype.setMinutes=function(e){this.minutes=e},t.prototype.setHours=function(e){this.hours=e},t.prototype.getHours=function(){return this.hours},t.prototype.setDate=function(e){this.day=e},t.prototype.setMonth=function(e){this.month=e},t.prototype.setFullYear=function(e){this.year=e},t.prototype.fromDate=function(e){return this.year=e.getFullYear(),this.month=e.getMonth(),this.day=e.getDate(),this.hours=e.getHours(),this.minutes=e.getMinutes(),this.seconds=e.getSeconds(),this.milliseconds=e.getMilliseconds(),this},t.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};var r=t.prototype,i=this.defaults={format:'shortDate',strict:!1};this.$get=['$locale','dateFilter',function(e,s){var l=function(l){function u(e){var t=c(e);return f(t)}function c(e){var t=d(e),a=t.replace(/''/g,'\\\''),n=/('(?:\\'|.)*?')/,o=a.split(n),r=Object.keys(y),i=[];return angular.forEach(o,function(e){if(g(e))e=m(e);else for(var t=0;t<r.length;t++)e=e.split(r[t]).join('${'+t+'}');i.push(e)}),i.join('')}function d(e){return e.replace(/\\/g,'[\\\\]').replace(/-/g,'[-]').replace(/\./g,'[.]').replace(/\*/g,'[*]').replace(/\+/g,'[+]').replace(/\?/g,'[?]').replace(/\$/g,'[$]').replace(/\^/g,'[^]').replace(/\//g,'[/]').replace(/\\s/g,'[\\s]');
}function g(e){return/^'.*'$/.test(e)}function m(e){return e.replace(/^'(.*)'$/,'$1')}function f(e){for(var t=Object.keys(y),a=e,n=0;n<t.length;n++)a=a.split('${'+n+'}').join('('+y[t[n]]+')');return new RegExp('^'+a+'$',['i'])}function p(e){var t=c(e);return h(t)}function h(e){for(var t,a,n,o,r=Object.keys(y),i=new RegExp('\\${(\\d+)}','g'),s=[];null!==(t=i.exec(e));)a=t[1],n=r[a],o=b[n],s.push(o);return s}var $,D,v=angular.extend({},i,l),w={},y={sss:'[0-9]{3}',ss:'[0-5][0-9]',s:v.strict?'[1-5]?[0-9]':'[0-9]|[0-5][0-9]',mm:'[0-5][0-9]',m:v.strict?'[1-5]?[0-9]':'[0-9]|[0-5][0-9]',HH:'[01][0-9]|2[0-3]',H:v.strict?'1?[0-9]|2[0-3]':'[01]?[0-9]|2[0-3]',hh:'[0][1-9]|[1][012]',h:v.strict?'[1-9]|1[012]':'0?[1-9]|1[012]',a:'AM|PM',EEEE:e.DATETIME_FORMATS.DAY.join('|'),EEE:e.DATETIME_FORMATS.SHORTDAY.join('|'),dd:'0[1-9]|[12][0-9]|3[01]',d:v.strict?'[1-9]|[1-2][0-9]|3[01]':'0?[1-9]|[1-2][0-9]|3[01]',MMMM:e.DATETIME_FORMATS.MONTH.join('|'),MMM:e.DATETIME_FORMATS.SHORTMONTH.join('|'),MM:'0[1-9]|1[012]',M:v.strict?'[1-9]|1[012]':'0?[1-9]|1[012]',yyyy:'[1]{1}[0-9]{3}|[2]{1}[0-9]{3}',yy:'[0-9]{2}',y:v.strict?'-?(0|[1-9][0-9]{0,3})':'-?0*[0-9]{1,4}'},b={sss:r.setMilliseconds,ss:r.setSeconds,s:r.setSeconds,mm:r.setMinutes,m:r.setMinutes,HH:r.setHours,H:r.setHours,hh:r.setHours,h:r.setHours,EEEE:a,EEE:a,dd:r.setDate,d:r.setDate,a:function(e){var t=this.getHours()%12;return this.setHours(e.match(/pm/i)?t+12:t)},MMMM:function(t){return this.setMonth(o(e.DATETIME_FORMATS.MONTH,t))},MMM:function(t){return this.setMonth(o(e.DATETIME_FORMATS.SHORTMONTH,t))},MM:function(e){return this.setMonth(1*e-1)},M:function(e){return this.setMonth(1*e-1)},yyyy:r.setFullYear,yy:function(e){return this.setFullYear(2e3+1*e)},y:function(e){return 1*e<=50&&2===e.length?this.setFullYear(2e3+1*e):this.setFullYear(1*e)}};return w.init=function(){w.$format=e.DATETIME_FORMATS[v.format]||v.format,$=u(w.$format),D=p(w.$format)},w.isValid=function(e){return angular.isDate(e)?!isNaN(e.getTime()):$.test(e)},w.parse=function(a,n,o,r){o&&(o=e.DATETIME_FORMATS[o]||o),angular.isDate(a)&&(a=s(a,o||w.$format,r));var i=o?u(o):$,l=o?p(o):D,c=i.exec(a);if(!c)return!1;for(var d=n&&!isNaN(n.getTime())?(new t).fromDate(n):(new t).fromDate(new Date(1970,0,1,0)),g=0;g<c.length-1;g++)l[g]&&l[g].call(d,c[g+1]);var m=d.toDate();return parseInt(d.day,10)===m.getDate()&&m},w.getDateForAttribute=function(e,t){var a;if('today'===t){var o=new Date;a=new Date(o.getFullYear(),o.getMonth(),o.getDate()+('maxDate'===e?1:0),0,0,0,'minDate'===e?0:-1)}else a=angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)):n(t)?new Date(parseInt(t,10)):angular.isString(t)&&0===t.length?'minDate'===e?-(1/0):+(1/0):new Date(t);return a},w.getTimeForAttribute=function(e,t){var a;return a='now'===t?(new Date).setFullYear(1970,0,1):angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)).setFullYear(1970,0,1):n(t)?new Date(parseInt(t,10)).setFullYear(1970,0,1):angular.isString(t)&&0===t.length?'minTime'===e?-(1/0):+(1/0):w.parse(t,new Date(1970,0,1,0))},w.daylightSavingAdjust=function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},w.timezoneOffsetAdjust=function(e,t,a){return e?(t&&'UTC'===t&&(e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+(a?-1:1)*e.getTimezoneOffset())),e):null},w.init(),w};return l}]}]),angular.module('mgcrea.ngStrap.helpers.dateFormatter',[]).service('$bsDateFormatter',['$locale','dateFilter',function(e,t){function a(e){return/(h+)([:\.])?(m+)([:\.])?(s*)[ ]?(a?)/i.exec(e).slice(1)}this.getDefaultLocale=function(){return e.id},this.getDatetimeFormat=function(t,a){return e.DATETIME_FORMATS[t]||t},this.weekdaysShort=function(t){return e.DATETIME_FORMATS.SHORTDAY},this.hoursFormat=function(e){return a(e)[0]},this.minutesFormat=function(e){return a(e)[2]},this.secondsFormat=function(e){return a(e)[4]},this.timeSeparator=function(e){return a(e)[1]},this.showSeconds=function(e){return!!a(e)[4]},this.showAM=function(e){return!!a(e)[5]},this.formatDate=function(e,a,n,o){return t(e,a,o)}}]),angular.module('mgcrea.ngStrap.core',[]).service('$bsCompiler',n),angular.module('mgcrea.ngStrap.dropdown',['mgcrea.ngStrap.tooltip']).provider('$bsDropdown',function(){var e=this.defaults={animation:'am-fade',prefixClass:'dropdown',prefixEvent:'dropdown',placement:'bottom-left',templateUrl:'dropdown/dropdown.tpl.html',trigger:'click',container:!1,keyboard:!0,html:!1,delay:0};this.$get=['$window','$rootScope','$bsTooltip','$timeout',function(t,a,n,o){function r(t,r){function l(e){if(e.target!==t[0])return e.target!==t[0]&&u.hide()}var u={},c=angular.extend({},e,r);u.$scope=c.scope&&c.scope.$new()||a.$new(),u=n(t,c);var d=t.parent();u.$onKeyDown=function(e){if(/(38|40)/.test(e.keyCode)){e.preventDefault(),e.stopPropagation();var t=angular.element(u.$element[0].querySelectorAll('li:not(.divider) a'));if(t.length){var a;angular.forEach(t,function(e,t){s&&s.call(e,':focus')&&(a=t)}),38===e.keyCode&&a>0?a--:40===e.keyCode&&a<t.length-1?a++:angular.isUndefined(a)&&(a=0),t.eq(a)[0].focus()}}};var g=u.show;u.show=function(){g(),o(function(){c.keyboard&&u.$element&&u.$element.on('keydown',u.$onKeyDown),i.on('click',l)},0,!1),d.hasClass('dropdown')&&d.addClass('open')};var m=u.hide;u.hide=function(){u.$isShown&&(c.keyboard&&u.$element&&u.$element.off('keydown',u.$onKeyDown),i.off('click',l),d.hasClass('dropdown')&&d.removeClass('open'),m())};var f=u.destroy;return u.destroy=function(){i.off('click',l),f()},u}var i=angular.element(t.document.body),s=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return r}]}).directive('bsDropdown',['$window','$sce','$bsDropdown',function(e,t,n){return{restrict:'EAC',scope:!0,compile:function(e,t){if(!t.bsDropdown){for(var o=e[0].nextSibling;o&&1!==o.nodeType;)o=o.nextSibling;o&&o.className.split(' ').indexOf('dropdown-menu')>=0&&(t.template=o.outerHTML,t.templateUrl=a,o.parentNode.removeChild(o))}return function(e,a,o){var r={scope:e};angular.forEach(['template','templateUrl','controller','controllerAs','placement','container','delay','trigger','keyboard','html','animation','id','autoClose'],function(e){angular.isDefined(t[e])&&(r[e]=t[e])});var i=/^(false|0|)$/i;angular.forEach(['html','container'],function(e){angular.isDefined(o[e])&&i.test(o[e])&&(r[e]=!1)}),angular.forEach(['onBeforeShow','onShow','onBeforeHide','onHide'],function(t){var a='bs'+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(o[a])&&(r[t]=e.$eval(o[a]))}),o.bsDropdown&&e.$watch(o.bsDropdown,function(t,a){e.content=t},!0);var s=n(a,r);o.bsShow&&e.$watch(o.bsShow,function(e,t){s&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(dropdown),?/i)),e===!0?s.show():s.hide())}),e.$on('$destroy',function(){s&&s.destroy(),r=null,s=null})}}}}]),angular.module('mgcrea.ngStrap.datetimepicker',['mgcrea.ngStrap.helpers.dateParser','mgcrea.ngStrap.helpers.dateFormatter','mgcrea.ngStrap.tooltip']).provider('datetimepickerViews',function(){function e(e,t){for(var a=[];e.length>0;)a.push(e.splice(0,t));return a}function t(e,t){return(e%t+t)%t}this.$get=['$bsDateFormatter','$bsDateParser','$sce',function(a,n,o){function r(r){var i=r.$scope,s=r.$options,l=s.lang,u=function(e,t){return a.formatDate(e,t,l)},c=a.getDatetimeFormat(s.dateFormat,l),d=a.timeSeparator(c),g=a.showSeconds(c);i.$iconUp=s.iconUp,i.$iconDown=s.iconDown;var m=n({format:s.dateFormat,lang:l,strict:s.strictFormat}),f=a.weekdaysShort(l),p=f.slice(s.startWeek).concat(f.slice(0,s.startWeek)),h=o.trustAsHtml('<th class="dow text-center">'+p.join('</th><th class="dow text-center">')+'</th>'),$=r.$date||(s.startDate?m.getDateForAttribute('startDate',s.startDate):new Date),D={year:$.getFullYear(),month:$.getMonth(),date:$.getDate(),hour:$.getHours(),minute:$.getMinutes(),second:$.getSeconds(),millisecond:$.getMilliseconds()},v=[{hourFormat:s.hourFormat,minuteFormat:s.minuteFormat,secondFormat:s.secondFormat,split:7,steps:{date:1},update:function(e,t){angular.isDate(e)&&!isNaN(e.getTime())?(angular.extend(D,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate(),hour:r.$date.getHours(),minute:r.$date.getMinutes(),second:r.$date.getSeconds(),millisecond:r.$date.getMilliseconds()}),r.$build()):this.built&&!t||r.$build()},build:function(){var e,t,a,n=i.midIndex=parseInt(s.length/2,10),o=[];for(e=0;e<s.length;e++)a=D.hour-(n-e)*s.hourStep,a=a<0?24+a:a,t=new Date(D.year,D.month,D.date,a,D.minute,D.second),o.push({date:t,label:u(t,this.hourFormat),selected:r.$date&&this.isSelected(t,0),disabled:this.isDisabled(t,0)});var l,c=[];for(e=0;e<s.length;e++)a=D.minute-(n-e)*s.minuteStep,a=a<0?60+a:a,l=new Date(D.year,D.month,D.date,D.hour,a,D.second),c.push({date:l,label:u(l,this.minuteFormat),selected:r.$date&&this.isSelected(l,1),disabled:this.isDisabled(l,1)});var m,f=[];for(e=0;e<s.length;e++)a=D.second-(n-e)*s.secondStep,a=a<0?60+a:a,m=new Date(D.year,D.month,D.date,D.hour,D.minute,a),f.push({date:m,label:u(m,this.secondFormat),selected:r.$date&&this.isSelected(m,2),disabled:this.isDisabled(m,2)});var p=[];for(e=0;e<s.length;e++)g?p.push([o[e],c[e],f[e]]):p.push([o[e],c[e]]);i.title=u(new Date(D.year,D.month,D.date),s.timeTitleFormat),i.rows=p,i.showSeconds=g,i.timeSeparator=d,this.built=!0},isSelected:function(e,t){return!!r.$date&&(0===t?e.getHours()===r.$date.getHours():1===t?e.getMinutes()===r.$date.getMinutes():2===t&&e.getSeconds()===r.$date.getSeconds())},isDisabled:function(e,t){var a=e.getTime();return s.minDate&&angular.isDate(s.minDate)&&a<s.minDate.getTime()||s.maxDate&&angular.isDate(s.maxDate)&&a>s.maxDate.getTime()},onKeyDown:function(e){!r.$date}},{format:s.dayFormat,split:7,steps:{month:1},update:function(e,t){!this.built||t||e.getFullYear()!==D.year||e.getMonth()!==D.month?(angular.extend(D,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$build()):e.getDate()===D.date&&1!==e.getDate()||(D.date=r.$date.getDate(),r.$updateSelected())},build:function(){var a=new Date(D.year,D.month,1),n=a.getTimezoneOffset(),o=new Date(+a-864e5*t(a.getDay()-s.startWeek,7)),l=o.getTimezoneOffset(),c=m.timezoneOffsetAdjust(new Date,s.timezone).toDateString();l!==n&&(o=new Date(+o+6e4*(l-n)));for(var d,g=[],f=0;f<42;f++)d=m.daylightSavingAdjust(new Date(o.getFullYear(),o.getMonth(),o.getDate()+f)),g.push({date:d,isToday:d.toDateString()===c,label:u(d,this.format),selected:r.$date&&this.isSelected(d),muted:d.getMonth()!==D.month,disabled:this.isDisabled(d)});i.title=u(a,s.monthTitleFormat),i.showLabels=!0,i.labels=h,i.rows=e(g,this.split),i.isTodayDisabled=this.isDisabled(new Date),this.built=!0},isSelected:function(e){return r.$date&&e.getFullYear()===r.$date.getFullYear()&&e.getMonth()===r.$date.getMonth()&&e.getDate()===r.$date.getDate()},isDisabled:function(e){var t=e.getTime();if(s.minDate&&angular.isDate(s.minDate)){var a=new Date(s.minDate.getFullYear(),s.minDate.getMonth(),s.minDate.getDate(),0,0,0);if(t<Date.parse(a))return!0}if(s.maxDate&&angular.isDate(s.maxDate)){var n=new Date(s.maxDate.getFullYear(),s.maxDate.getMonth(),s.maxDate.getDate()+1,0,0,0);if(t>=Date.parse(n))return!0}if(s.daysOfWeekDisabled.indexOf(e.getDay())!==-1)return!0;if(s.disabledDateRanges)for(var o=0;o<s.disabledDateRanges.length;o++)if(t>=s.disabledDateRanges[o].start&&t<=s.disabledDateRanges[o].end)return!0;return!1},onKeyDown:function(e){if(r.$date){var t,a=r.$date.getTime();37===e.keyCode?t=new Date(a-864e5):38===e.keyCode?t=new Date(a-6048e5):39===e.keyCode?t=new Date(a+864e5):40===e.keyCode&&(t=new Date(a+6048e5)),this.isDisabled(t)||r.select(t,!0)}}},{name:'month',format:s.monthFormat,split:4,steps:{year:1},update:function(e,t){this.built&&e.getFullYear()===D.year?e.getMonth()!==D.month&&(angular.extend(D,{month:r.$date.getMonth(),date:r.$date.getDate()}),r.$updateSelected()):(angular.extend(D,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$build())},build:function(){for(var t,a=[],n=0;n<12;n++)t=new Date(D.year,n,1),a.push({date:t,label:u(t,this.format),selected:r.$isSelected(t),disabled:this.isDisabled(t)});i.title=u(t,s.yearTitleFormat),i.showLabels=!1,i.rows=e(a,this.split),this.built=!0},isSelected:function(e){return r.$date&&e.getFullYear()===r.$date.getFullYear()&&e.getMonth()===r.$date.getMonth()},isDisabled:function(e){var t=+new Date(e.getFullYear(),e.getMonth()+1,0);return t<s.minDate||e.getTime()>s.maxDate},onKeyDown:function(e){if(r.$date){var t=r.$date.getMonth(),a=new Date(r.$date);37===e.keyCode?a.setMonth(t-1):38===e.keyCode?a.setMonth(t-4):39===e.keyCode?a.setMonth(t+1):40===e.keyCode&&a.setMonth(t+4),this.isDisabled(a)||r.select(a,!0)}}},{name:'year',format:s.yearFormat,split:4,steps:{year:12},update:function(e,t){!this.built||t||parseInt(e.getFullYear()/20,10)!==parseInt(D.year/20,10)?(angular.extend(D,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$build()):e.getFullYear()!==D.year&&(angular.extend(D,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$updateSelected())},build:function(){for(var t,a=D.year-D.year%(3*this.split),n=[],o=0;o<12;o++)t=new Date(a+o,0,1),n.push({date:t,label:u(t,this.format),selected:r.$isSelected(t),disabled:this.isDisabled(t)});i.title=n[0].label+'-'+n[n.length-1].label,i.showLabels=!1,i.rows=e(n,this.split),this.built=!0},isSelected:function(e){return r.$date&&e.getFullYear()===r.$date.getFullYear()},isDisabled:function(e){var t=+new Date(e.getFullYear()+1,0,0);return t<s.minDate||e.getTime()>s.maxDate},onKeyDown:function(e){if(r.$date){var t=r.$date.getFullYear(),a=new Date(r.$date);37===e.keyCode?a.setYear(t-1):38===e.keyCode?a.setYear(t-4):39===e.keyCode?a.setYear(t+1):40===e.keyCode&&a.setYear(t+4),this.isDisabled(a)||r.select(a,!0)}}}];return{views:s.minView?Array.prototype.slice.call(v,s.minView):v,viewDate:D}}return r}]}).provider('$datetimepicker',function(){var e=this.defaults={animation:'am-fade',prefixClass:'datepicker',placement:'bottom-left',templateUrl:'datetimepicker/datetimepicker.tpl.html',trigger:'focus',container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:'date',dateFormat:'shortDate',timezone:null,modelDateFormat:null,hourFormat:'HH',minuteFormat:'mm',secondFormat:'ss',dayFormat:'dd',monthFormat:'MMM',yearFormat:'yyyy',monthTitleFormat:'MMMM yyyy',timeTitleFormat:'dd MMM',yearTitleFormat:'yyyy',strictFormat:!1,autoclose:!1,minDate:-(1/0),maxDate:+(1/0),startView:1,minView:0,startWeek:0,daysOfWeekDisabled:'',hasToday:!1,hasClear:!1,length:5,hourStep:1,minuteStep:5,secondStep:5,roundDisplay:!1,iconUp:'nox-sort-up',iconDown:'nox-sort-down',iconLeft:'nox-sort-left',iconRight:'nox-sort-right',arrowBehavior:'pager'};this.$get=['$window','$document','$rootScope','$sce','$bsDateFormatter','datetimepickerViews','$bsTooltip','$timeout',function(t,a,n,o,r,i,s,l){function u(t,a,n){function o(e){e.selected=u.$isSelected(e.date)}function r(){t[0].focus()}var u=s(t,angular.extend({},e,n)),g=n.scope,m=u.$options,f=u.$scope;m.startView&&(m.startView-=m.minView);var p=i(u);u.$views=p.views;var h=p.viewDate;f.$mode=m.startView,f.$iconLeft=m.iconLeft,f.$iconRight=m.iconRight,f.$hasToday=m.hasToday,f.$hasClear=m.hasClear;var $=u.$views[f.$mode];f.$select=function(e){u.select(e)},f.$selectPane=function(e){u.$selectPane(e)},f.$selectTime=function(e,t){u.selectTime(e,t)},f.$arrowAction=function(e,t){'picker'===m.arrowBehavior?u.$setTimeByStep(e,t):u.$moveIndex(e,t)},f.$toggleMode=function(){u.setMode((f.$mode+1)%u.$views.length)},f.$setToday=function(){m.autoclose?(u.setMode(0),u.select(new Date)):u.select(new Date,!0)},f.$clear=function(){m.autoclose?(u.setMode(0),u.select(null)):u.select(null,!0)},u.update=function(e){angular.isDate(e)&&!isNaN(e.getTime())&&(u.$date=e,$.update.call($,e)),u.$build(!0)},u.updateDisabledDates=function(e){m.disabledDateRanges=e;for(var t=0,a=f.rows.length;t<a;t++)angular.forEach(f.rows[t],u.$setDisabledEl)},u.select=function(e,t){angular.isDate(e)?angular.isDate(a.$dateValue)&&!isNaN(a.$dateValue.getTime())||(a.$dateValue=new Date(e)):a.$dateValue=null,!f.$mode||t?(a.$setViewValue(angular.copy(e)),a.$render(),m.autoclose&&!t&&l(function(){u.hide(!0)})):(angular.extend(h,{year:e.getFullYear(),month:e.getMonth(),date:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}),u.setMode(f.$mode-1),u.$build())},u.selectTime=function(e,t,n){a.$dateValue&&!isNaN(a.$dateValue.getTime())||(a.$dateValue=new Date),angular.isDate(e)||(e=new Date(e)),a.$dateValue.setFullYear(e.getFullYear()),a.$dateValue.setMonth(e.getMonth()),a.$dateValue.setDate(e.getDate()),0===t?a.$dateValue.setHours(e.getHours()):1===t?a.$dateValue.setMinutes(e.getMinutes()):2===t&&a.$dateValue.setSeconds(e.getSeconds()),a.$setViewValue(angular.copy(a.$dateValue)),a.$render(),m.autoclose&&!n&&l(function(){u.hide(!0)})},u.setMode=function(e){f.$mode=e,$=u.$views[f.$mode],u.$build()},u.$build=function(e){e===!0&&$.built||(e!==!1||$.built)&&$.build.call($)},u.$updateSelected=function(){for(var e=0,t=f.rows.length;e<t;e++)angular.forEach(f.rows[e],o)},u.$isSelected=function(e){return $.isSelected(e)},u.$setDisabledEl=function(e){e.disabled=$.isDisabled(e.date)},u.$selectPane=function(e){var t=$.steps,a=new Date(Date.UTC(h.year+(t.year||0)*e,h.month+(t.month||0)*e,t.date?h.date+t.date*e:1));angular.extend(h,{year:a.getUTCFullYear(),month:a.getUTCMonth(),date:a.getUTCDate()}),u.$build()},u.$setTimeByStep=function(e,t){var a=new Date(u.$date),n=a.getHours(),o=a.getMinutes(),r=a.getSeconds();0===t?a.setHours(n-parseInt(m.hourStep,10)*e):1===t?a.setMinutes(o-parseInt(m.minuteStep,10)*e):2===t&&a.setSeconds(r-parseInt(m.secondStep,10)*e),u.selectTime(a,t,!0)},u.$moveIndex=function(e,t){var a;0===t?(a=new Date(h.year,h.month,h.date,h.hour+e*m.length,h.minute,h.second),angular.extend(h,{hour:a.getHours()})):1===t?(a=new Date(h.year,h.month,h.date,h.hour,h.minute+e*m.length*m.minuteStep,h.second),angular.extend(h,{minute:a.getMinutes()})):2===t&&(a=new Date(h.year,h.month,h.date,h.hour,h.minute,h.second+e*m.length*m.secondStep),angular.extend(h,{second:a.getSeconds()})),u.$build()},u.$onMouseDown=function(e){if(e.preventDefault(),e.stopPropagation(),d){var t=angular.element(e.target);'button'!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler('click')}},u.$onKeyDown=function(e){if(/(38|37|39|40|13)/.test(e.keyCode)&&!e.shiftKey&&!e.altKey){if(e.preventDefault(),e.stopPropagation(),13===e.keyCode)return void(f.$mode?f.$apply(function(){u.setMode(f.$mode-1)}):u.hide(!0));$.onKeyDown(e),g.$digest()}};var D=u.init;u.init=function(){return c&&m.useNative?(t.prop('type','date'),void t.css('-webkit-appearance','textfield')):(d&&(t.prop('type','text'),t.attr('readonly','true'),t.on('click',r)),void D())};var v=u.destroy;u.destroy=function(){c&&m.useNative&&t.off('click',r),v()};var w=u.show;u.show=function(){!d&&t.attr('readonly')||t.attr('disabled')||(w(),l(function(){u.$isShown&&(u.$element.on(d?'touchstart':'mousedown',u.$onMouseDown),m.keyboard&&t.on('keydown',u.$onKeyDown))},0,!1))};var y=u.hide;return u.hide=function(e){u.$isShown&&(u.$element.off(d?'touchstart':'mousedown',u.$onMouseDown),m.keyboard&&t.off('keydown',u.$onKeyDown),y(e))},u}var c=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent),d='createTouch'in t.document&&c;return e.lang||(e.lang=r.getDefaultLocale()),u.defaults=e,u}]}).directive('bsDatetimepicker',['$window','$parse','$q','$bsDateFormatter','$bsDateParser','$datetimepicker',function(e,t,a,n,o,r){var i=/(ip[ao]d|iphone|android)/gi.test(e.navigator.userAgent);return{restrict:'EAC',require:'ngModel',link:function(e,t,a,s){function l(e){return e&&e.length?e:null}function u(e){if(angular.isDate(e)){var t=isNaN(m.$options.minDate)||e.getTime()>=m.$options.minDate,a=isNaN(m.$options.maxDate)||e.getTime()<=m.$options.maxDate,n=t&&a;s.$setValidity('date',n),s.$setValidity('min',t),s.$setValidity('max',a),n&&(s.$dateValue=e)}}function c(){return!s.$dateValue||isNaN(s.$dateValue.getTime())?'':p(s.$dateValue,d.dateFormat)}var d={scope:e};angular.forEach(['template','templateUrl','controller','controllerAs','placement','container','delay','trigger','html','animation','autoclose','dateType','dateFormat','timezone','modelDateFormat','dayFormat','strictFormat','startWeek','startDate','useNative','lang','startView','minView','iconLeft','iconRight','daysOfWeekDisabled','id','prefixClass','prefixEvent','hasToday','hasClear'],function(e){angular.isDefined(a[e])&&(d[e]=a[e])});var g=/^(false|0|)$/i;angular.forEach(['html','container','autoclose','useNative','hasToday','hasClear'],function(e){angular.isDefined(a[e])&&g.test(a[e])&&(d[e]=!1)}),angular.forEach(['onBeforeShow','onShow','onBeforeHide','onHide'],function(t){var n='bs'+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(a[n])&&(d[t]=e.$eval(a[n]))});var m=r(t,s,d);d=m.$options,i&&d.useNative&&(d.dateFormat='yyyy-MM-dd');var f=d.lang,p=function(e,t){return n.formatDate(e,t,f)},h=o({format:d.dateFormat,lang:f,strict:d.strictFormat});a.bsShow&&e.$watch(a.bsShow,function(e,t){m&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(datepicker),?/i)),e===!0?m.show():m.hide())}),angular.forEach(['minDate','maxDate'],function(e){angular.isDefined(a[e])&&a.$observe(e,function(t){m.$options[e]=h.getDateForAttribute(e,t),isNaN(m.$options[e])||m.$build(!1),u(s.$dateValue)})}),angular.isDefined(a.dateFormat)&&a.$observe('dateFormat',function(e){m.$options.dateFormat=e}),e.$watch(a.ngModel,function(e,t){m.update(s.$dateValue)},!0),angular.isDefined(a.disabledDates)&&e.$watch(a.disabledDates,function(e,t){e=l(e),t=l(t),e&&m.updateDisabledDates(e)}),s.$parsers.unshift(function(e){var t;if(!e)return s.$setValidity('date',!0),null;var a=h.parse(e,s.$dateValue);return!a||isNaN(a.getTime())?void s.$setValidity('date',!1):(u(a),'string'===d.dateType?(t=h.timezoneOffsetAdjust(a,d.timezone,!0),p(t,d.modelDateFormat||d.dateFormat)):(t=h.timezoneOffsetAdjust(s.$dateValue,d.timezone,!0),'number'===d.dateType?t.getTime():'unix'===d.dateType?t.getTime()/1e3:'iso'===d.dateType?t.toISOString():new Date(t)))}),s.$formatters.push(function(e){var t;return t=angular.isUndefined(e)||null===e?NaN:angular.isDate(e)?e:'string'===d.dateType?h.parse(e,null,d.modelDateFormat):'unix'===d.dateType?new Date(1e3*e):new Date(e),s.$dateValue=h.timezoneOffsetAdjust(t,d.timezone),c()}),s.$render=function(){t.val(c())},e.$on('$destroy',function(){m&&m.destroy(),d=null,m=null})}}}]),angular.module('mgcrea.ngStrap.datepicker',['mgcrea.ngStrap.helpers.dateParser','mgcrea.ngStrap.helpers.dateFormatter','mgcrea.ngStrap.tooltip']).provider('$bsDatepicker',function(){var e=this.defaults={animation:'am-fade',prefixClass:'datepicker',placement:'bottom-left',templateUrl:'datepicker/datepicker.tpl.html',trigger:'focus',container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:'date',dateFormat:'shortDate',timezone:null,modelDateFormat:null,dayFormat:'dd',monthFormat:'MMM',yearFormat:'yyyy',monthTitleFormat:'MMMM yyyy',yearTitleFormat:'yyyy',strictFormat:!1,autoclose:!1,minDate:-(1/0),maxDate:+(1/0),startView:0,minView:0,startWeek:0,daysOfWeekDisabled:'',hasToday:!1,hasClear:!1,iconLeft:'nox-sort-left',iconRight:'nox-sort-right'};this.$get=['$window','$document','$rootScope','$sce','$bsDateFormatter','bsDatepickerViews','$bsTooltip','$timeout',function(t,a,n,o,r,i,s,l){function u(t,a,n){function o(e){e.selected=u.$isSelected(e.date)}function r(){t[0].focus()}var u=s(t,angular.extend({},e,n)),g=n.scope,m=u.$options,f=u.$scope;m.startView&&(m.startView-=m.minView);var p=i(u);u.$views=p.views;var h=p.viewDate;f.$mode=m.startView,f.$iconLeft=m.iconLeft,f.$iconRight=m.iconRight,f.$hasToday=m.hasToday,f.$hasClear=m.hasClear;var $=u.$views[f.$mode];f.$select=function(e){u.select(e)},f.$selectPane=function(e){u.$selectPane(e)},f.$toggleMode=function(){u.setMode((f.$mode+1)%u.$views.length)},f.$setToday=function(){m.autoclose?(u.setMode(0),u.select(new Date)):u.select(new Date,!0)},f.$clear=function(){m.autoclose?(u.setMode(0),u.select(null)):u.select(null,!0)},u.update=function(e){angular.isDate(e)&&!isNaN(e.getTime())&&(u.$date=e,$.update.call($,e)),u.$build(!0)},u.updateDisabledDates=function(e){m.disabledDateRanges=e;for(var t=0,a=f.rows.length;t<a;t++)angular.forEach(f.rows[t],u.$setDisabledEl)},u.select=function(e,t){angular.isDate(e)?angular.isDate(a.$dateValue)&&!isNaN(a.$dateValue.getTime())||(a.$dateValue=new Date(e)):a.$dateValue=null,!f.$mode||t?(a.$setViewValue(angular.copy(e)),a.$render(),m.autoclose&&!t&&l(function(){u.hide(!0)})):(angular.extend(h,{year:e.getFullYear(),month:e.getMonth(),date:e.getDate()}),u.setMode(f.$mode-1),u.$build())},u.setMode=function(e){f.$mode=e,$=u.$views[f.$mode],u.$build()},u.$build=function(e){e===!0&&$.built||(e!==!1||$.built)&&$.build.call($)},u.$updateSelected=function(){for(var e=0,t=f.rows.length;e<t;e++)angular.forEach(f.rows[e],o)},u.$isSelected=function(e){return $.isSelected(e)},u.$setDisabledEl=function(e){e.disabled=$.isDisabled(e.date)},u.$selectPane=function(e){var t=$.steps,a=new Date(Date.UTC(h.year+(t.year||0)*e,h.month+(t.month||0)*e,1));angular.extend(h,{year:a.getUTCFullYear(),month:a.getUTCMonth(),date:a.getUTCDate()}),u.$build()},u.$onMouseDown=function(e){if(e.preventDefault(),e.stopPropagation(),d){var t=angular.element(e.target);'button'!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler('click')}},u.$onKeyDown=function(e){if(/(38|37|39|40|13)/.test(e.keyCode)&&!e.shiftKey&&!e.altKey){if(e.preventDefault(),e.stopPropagation(),13===e.keyCode)return void(f.$mode?f.$apply(function(){u.setMode(f.$mode-1)}):u.hide(!0));$.onKeyDown(e),g.$digest()}};var D=u.init;u.init=function(){return c&&m.useNative?(t.prop('type','date'),void t.css('-webkit-appearance','textfield')):(d&&(t.prop('type','text'),t.attr('readonly','true'),t.on('click',r)),void D())};var v=u.destroy;u.destroy=function(){c&&m.useNative&&t.off('click',r),v()};var w=u.show;u.show=function(){!d&&t.attr('readonly')||t.attr('disabled')||(w(),l(function(){u.$isShown&&(u.$element.on(d?'touchstart':'mousedown',u.$onMouseDown),m.keyboard&&t.on('keydown',u.$onKeyDown))},0,!1))};var y=u.hide;return u.hide=function(e){u.$isShown&&(u.$element.off(d?'touchstart':'mousedown',u.$onMouseDown),m.keyboard&&t.off('keydown',u.$onKeyDown),y(e))},u}var c=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent),d='createTouch'in t.document&&c;return e.lang||(e.lang=r.getDefaultLocale()),u.defaults=e,u}]}).directive('bsDatepicker',['$window','$parse','$q','$bsDateFormatter','$bsDateParser','$bsDatepicker',function(e,t,a,n,o,r){var i=/(ip[ao]d|iphone|android)/gi.test(e.navigator.userAgent);return{restrict:'EAC',require:'ngModel',link:function(e,t,a,s){function l(e){return e&&e.length?e:null}function u(e){if(angular.isDate(e)){var t=isNaN(m.$options.minDate)||e.getTime()>=m.$options.minDate,a=isNaN(m.$options.maxDate)||e.getTime()<=m.$options.maxDate,n=t&&a;s.$setValidity('date',n),s.$setValidity('min',t),s.$setValidity('max',a),n&&(s.$dateValue=e)}}function c(){return!s.$dateValue||isNaN(s.$dateValue.getTime())?'':p(s.$dateValue,d.dateFormat)}var d={scope:e};angular.forEach(['template','templateUrl','controller','controllerAs','placement','container','delay','trigger','html','animation','autoclose','dateType','dateFormat','timezone','modelDateFormat','dayFormat','strictFormat','startWeek','startDate','useNative','lang','startView','minView','iconLeft','iconRight','daysOfWeekDisabled','id','prefixClass','prefixEvent','hasToday','hasClear'],function(e){angular.isDefined(a[e])&&(d[e]=a[e])});var g=/^(false|0|)$/i;angular.forEach(['html','container','autoclose','useNative','hasToday','hasClear'],function(e){angular.isDefined(a[e])&&g.test(a[e])&&(d[e]=!1)}),angular.forEach(['onBeforeShow','onShow','onBeforeHide','onHide'],function(t){var n='bs'+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(a[n])&&(d[t]=e.$eval(a[n]))});var m=r(t,s,d);d=m.$options,i&&d.useNative&&(d.dateFormat='yyyy-MM-dd');var f=d.lang,p=function(e,t){return n.formatDate(e,t,f)},h=o({format:d.dateFormat,lang:f,strict:d.strictFormat});a.bsShow&&e.$watch(a.bsShow,function(e,t){m&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(datepicker),?/i)),e===!0?m.show():m.hide())}),angular.forEach(['minDate','maxDate'],function(e){angular.isDefined(a[e])&&a.$observe(e,function(t){m.$options[e]=h.getDateForAttribute(e,t),isNaN(m.$options[e])||m.$build(!1),u(s.$dateValue)})}),angular.isDefined(a.dateFormat)&&a.$observe('dateFormat',function(e){m.$options.dateFormat=e}),e.$watch(a.ngModel,function(e,t){m.update(s.$dateValue)},!0),angular.isDefined(a.disabledDates)&&e.$watch(a.disabledDates,function(e,t){e=l(e),t=l(t),e&&m.updateDisabledDates(e)}),s.$parsers.unshift(function(e){var t;if(!e)return s.$setValidity('date',!0),null;var a=h.parse(e,s.$dateValue);return!a||isNaN(a.getTime())?void s.$setValidity('date',!1):(u(a),'string'===d.dateType?(t=h.timezoneOffsetAdjust(a,d.timezone,!0),p(t,d.modelDateFormat||d.dateFormat)):(t=h.timezoneOffsetAdjust(s.$dateValue,d.timezone,!0),'number'===d.dateType?t.getTime():'unix'===d.dateType?t.getTime()/1e3:'iso'===d.dateType?t.toISOString():new Date(t)))}),s.$formatters.push(function(e){var t;return t=angular.isUndefined(e)||null===e?NaN:angular.isDate(e)?e:'string'===d.dateType?h.parse(e,null,d.modelDateFormat):'unix'===d.dateType?new Date(1e3*e):new Date(e),s.$dateValue=h.timezoneOffsetAdjust(t,d.timezone),c()}),s.$render=function(){t.val(c())},e.$on('$destroy',function(){m&&m.destroy(),d=null,m=null})}}}]).provider('bsDatepickerViews',function(){function e(e,t){for(var a=[];e.length>0;)a.push(e.splice(0,t));return a}function t(e,t){return(e%t+t)%t}this.$get=['$bsDateFormatter','$bsDateParser','$sce',function(a,n,o){return function(r){var i=r.$scope,s=r.$options,l=s.lang,u=function(e,t){return a.formatDate(e,t,l)},c=n({format:s.dateFormat,lang:l,strict:s.strictFormat}),d=a.weekdaysShort(l),g=d.slice(s.startWeek).concat(d.slice(0,s.startWeek)),m=o.trustAsHtml('<th class="dow text-center">'+g.join('</th><th class="dow text-center">')+'</th>'),f=r.$date||(s.startDate?c.getDateForAttribute('startDate',s.startDate):new Date),p={year:f.getFullYear(),month:f.getMonth(),date:f.getDate()},h=[{format:s.dayFormat,split:7,steps:{month:1},update:function(e,t){!this.built||t||e.getFullYear()!==p.year||e.getMonth()!==p.month?(angular.extend(p,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$build()):e.getDate()===p.date&&1!==e.getDate()||(p.date=r.$date.getDate(),r.$updateSelected())},build:function(){var a=new Date(p.year,p.month,1),n=a.getTimezoneOffset(),o=new Date(+a-864e5*t(a.getDay()-s.startWeek,7)),l=o.getTimezoneOffset(),d=c.timezoneOffsetAdjust(new Date,s.timezone).toDateString();l!==n&&(o=new Date(+o+6e4*(l-n)));for(var g,f=[],h=0;h<42;h++)g=c.daylightSavingAdjust(new Date(o.getFullYear(),o.getMonth(),o.getDate()+h)),f.push({date:g,isToday:g.toDateString()===d,label:u(g,this.format),selected:r.$date&&this.isSelected(g),muted:g.getMonth()!==p.month,disabled:this.isDisabled(g)});i.title=u(a,s.monthTitleFormat),i.showLabels=!0,i.labels=m,i.rows=e(f,this.split),i.isTodayDisabled=this.isDisabled(new Date),this.built=!0},isSelected:function(e){return r.$date&&e.getFullYear()===r.$date.getFullYear()&&e.getMonth()===r.$date.getMonth()&&e.getDate()===r.$date.getDate()},isDisabled:function(e){var t=e.getTime();if(t<Date.parse(s.minDate)||t>Date.parse(s.maxDate))return!0;if(s.daysOfWeekDisabled.indexOf(e.getDay())!==-1)return!0;if(s.disabledDateRanges)for(var a=0;a<s.disabledDateRanges.length;a++)if(t>=s.disabledDateRanges[a].start&&t<=s.disabledDateRanges[a].end)return!0;return!1},onKeyDown:function(e){if(r.$date){var t,a=r.$date.getTime();37===e.keyCode?t=new Date(a-864e5):38===e.keyCode?t=new Date(a-6048e5):39===e.keyCode?t=new Date(a+864e5):40===e.keyCode&&(t=new Date(a+6048e5)),this.isDisabled(t)||r.select(t,!0)}}},{name:'month',format:s.monthFormat,split:4,steps:{
year:1},update:function(e,t){this.built&&e.getFullYear()===p.year?e.getMonth()!==p.month&&(angular.extend(p,{month:r.$date.getMonth(),date:r.$date.getDate()}),r.$updateSelected()):(angular.extend(p,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$build())},build:function(){for(var t,a=[],n=0;n<12;n++)t=new Date(p.year,n,1),a.push({date:t,label:u(t,this.format),selected:r.$isSelected(t),disabled:this.isDisabled(t)});i.title=u(t,s.yearTitleFormat),i.showLabels=!1,i.rows=e(a,this.split),this.built=!0},isSelected:function(e){return r.$date&&e.getFullYear()===r.$date.getFullYear()&&e.getMonth()===r.$date.getMonth()},isDisabled:function(e){var t=+new Date(e.getFullYear(),e.getMonth()+1,0);return t<s.minDate||e.getTime()>s.maxDate},onKeyDown:function(e){if(r.$date){var t=r.$date.getMonth(),a=new Date(r.$date);37===e.keyCode?a.setMonth(t-1):38===e.keyCode?a.setMonth(t-4):39===e.keyCode?a.setMonth(t+1):40===e.keyCode&&a.setMonth(t+4),this.isDisabled(a)||r.select(a,!0)}}},{name:'year',format:s.yearFormat,split:4,steps:{year:12},update:function(e,t){!this.built||t||parseInt(e.getFullYear()/20,10)!==parseInt(p.year/20,10)?(angular.extend(p,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$build()):e.getFullYear()!==p.year&&(angular.extend(p,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$updateSelected())},build:function(){for(var t,a=p.year-p.year%(3*this.split),n=[],o=0;o<12;o++)t=new Date(a+o,0,1),n.push({date:t,label:u(t,this.format),selected:r.$isSelected(t),disabled:this.isDisabled(t)});i.title=n[0].label+'-'+n[n.length-1].label,i.showLabels=!1,i.rows=e(n,this.split),this.built=!0},isSelected:function(e){return r.$date&&e.getFullYear()===r.$date.getFullYear()},isDisabled:function(e){var t=+new Date(e.getFullYear()+1,0,0);return t<s.minDate||e.getTime()>s.maxDate},onKeyDown:function(e){if(r.$date){var t=r.$date.getFullYear(),a=new Date(r.$date);37===e.keyCode?a.setYear(t-1):38===e.keyCode?a.setYear(t-4):39===e.keyCode?a.setYear(t+1):40===e.keyCode&&a.setYear(t+4),this.isDisabled(a)||r.select(a,!0)}}}];return{views:s.minView?Array.prototype.slice.call(h,s.minView):h,viewDate:p}}}]}),angular.module('mgcrea.ngStrap.alert',['mgcrea.ngStrap.modal']).provider('$bsAlert',function(){var e=this.defaults={animation:'am-fade',prefixClass:'alert',prefixEvent:'alert',placement:null,templateUrl:'alert/alert.tpl.html',container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissible:!0};this.$get=['$bsModal','$timeout',function(t,a){function n(n){var o={},r=angular.extend({},e,n);o=t(r),o.$scope.dismissible=!!r.dismissible,r.type&&(o.$scope.type=r.type);var i=o.show;return r.duration&&(o.show=function(){i(),a(function(){o.hide()},1e3*r.duration)}),o}return n}]}).directive('bsAlert',['$window','$sce','$bsAlert',function(e,t,a){return{restrict:'EAC',scope:!0,link:function(e,n,o,r){var i={scope:e,element:n,show:!1};angular.forEach(['template','templateUrl','controller','controllerAs','placement','keyboard','html','container','animation','duration','dismissible'],function(e){angular.isDefined(o[e])&&(i[e]=o[e])});var s=/^(false|0|)$/i;angular.forEach(['keyboard','html','container','dismissible'],function(e){angular.isDefined(o[e])&&s.test(o[e])&&(i[e]=!1)}),angular.forEach(['onBeforeShow','onShow','onBeforeHide','onHide'],function(t){var a='bs'+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(o[a])&&(i[t]=e.$eval(o[a]))}),e.hasOwnProperty('title')||(e.title=''),angular.forEach(['title','content','type'],function(a){o[a]&&o.$observe(a,function(n,o){e[a]=t.trustAsHtml(n)})}),o.bsAlert&&e.$watch(o.bsAlert,function(t,a){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var l=a(i);n.on(o.trigger||'click',l.toggle),e.$on('$destroy',function(){l&&l.destroy(),i=null,l=null})}}}]),angular.module('mgcrea.ngStrap',['mgcrea.ngStrap.modal','mgcrea.ngStrap.alert','mgcrea.ngStrap.select','mgcrea.ngStrap.datepicker','mgcrea.ngStrap.rangedatepicker','mgcrea.ngStrap.timepicker','mgcrea.ngStrap.datetimepicker','mgcrea.ngStrap.tooltip','mgcrea.ngStrap.popover','mgcrea.ngStrap.dropdown','mgcrea.ngStrap.tab','mgcrea.ngStrap.pagination','mgcrea.ngStrap.sort'])}(window,document);