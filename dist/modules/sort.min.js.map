{"version":3,"sources":["modules/sort.js"],"names":["angular","item","scope","compile","element","attrs","list","querySelectorAll","i","len","length","postLink","options","show","dataName","key","charAt","toUpperCase","event","target","currentTarget","$apply","isDefined","orderBy","sortBy","onSort","isFunction","forEach","attr","$eval","bsKey","clickColumn"],"mappings":"AAOA,YAEAA,SAAQC,OAAOD,0BAAgBC,UAAAA,UAAAA,WAC7B,OACEC,OAAM,EACNC,QAAMF,SAAYG,EAAAC,GAEhB,IAAK,GADDC,GAAOF,EAAQ,GAAGG,iBAAiB,MAC9BC,EAAI,EAAGC,EAAMH,EAAKI,OAAYD,EAAJD,EAASA,IAAK,CAEjD,GAAAP,GAAOK,EAASK,EACd,IAAAV,EAAIW,QAAAA,QAAAA,GACFV,EAAOA,KAAAA,iBAAAA,CACPE,GAAAA,GAASA,EAAAA,KAAAA,YACTS,GAAAA,OAAM,uFAAAC,EAAA,oGAAAA,EAAA,0CAEV,MACI,UAAmBC,EAAIC,EAAUC,GAmBnC,QAGIf,GAAegB,GAFjB,GAAIC,GAASnB,QAAQI,QAAQc,EAAME,eAInClB,EAAMmB,EAAAA,KAAAA,YAEFrB,KAAQsB,EAAUV,QACpBA,EAAAA,OAA8BV,QAAfA,EAAMqB,OAAeC,OAAAA,OAFpCtB,EAAMqB,QAAUT,EAChBZ,EAAMsB,OAAS,QAEjBtB,EAAMmB,SACFrB,QAAQsB,UAAUV,EAAQa,SAAWzB,QAAQ0B,WAAWd,EAAQa,SAClEb,EAAQa,OAAOvB,EAAMqB,QAASrB,EAAMsB,QA9BxC,GACEZ,IAAAV,MACEU,EAAFR,QAASA,EACTS,MAAM,EAGRb,SAAK2B,SAAWlB,UAAWC,SAAYD,GACrC,GAAIR,GAAOK,KAAKE,EAAAA,OAAAA,GAAAA,cAAAA,EAAAA,MAAAA,EAChBP,SAAOD,UAAQI,EAAQH,MACvBW,EAASgB,GAAK1B,EAAA2B,MAAAxB,EAAkByB,MAKlC,KAAA,GAHIxB,GAAOF,EAAQ,GAAGG,iBAAiB,MAG9BwB,EAAAA,EAAAA,EAAYb,EAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CACnB,GAAIC,GAAAA,EAASnB,EACbC,GAAIa,QAAWK,QAAOS,GAClBd,EAAAA,KAAAA,kBACFZ,EAAAA,GAAMsB,QAAStB","file":"modules/sort.min.js","sourcesContent":["'use strict';\n\nangular.module('mgcrea.ngStrap.sort', []).directive('bsSort', [function() {\n  return {\n    scope: true,\n    compile: function(element, attrs) {\n      var list = element[0].querySelectorAll('th');\n      for (var i = 0, len = list.length; i < len; i++) {\n        var item = list[i];\n        item = angular.element(item);\n        if (item.attr('data-sortable')) {\n          var dataName = item.attr('data-name');\n          item.append('<div class=\"sorter\"><i class=\"nox-sort-up sort-asc\" ng-class=\"{active: orderBy == \\'' + dataName + '\\' && sortBy == \\'asc\\'}\"></i><i class=\"nox-sort-down sort-desc\" ng-class=\"{active: orderBy == \\'' + dataName + '\\' && sortBy == \\'desc\\'}\"></i></div>');\n        }\n      }\n\n      return function postLink (scope, element, attrs) {\n        var options = {\n          scope: scope,\n          element: element,\n          show: false\n        };\n        angular.forEach(['onSort'], function(key) {\n          var bsKey = 'bs' + key.charAt(0).toUpperCase() + key.slice(1);\n          if (angular.isDefined(attrs[bsKey])) {\n            options[key] = scope.$eval(attrs[bsKey]);\n          }\n        });\n        var list = element[0].querySelectorAll('th');\n        for (var i = 0, len = list.length; i < len; i++) {\n          var item = list[i];\n          item = angular.element(item);\n          if (item.attr('data-sortable')) {\n            item.on('click', clickColumn)\n          }\n        }\n\n        function clickColumn(event) {\n          var target = angular.element(event.currentTarget);\n          var dataName = target.attr('data-name');\n          if (dataName === scope.orderBy) {\n            scope.sortBy = scope.sortBy === 'asc' ? 'desc' : 'asc';\n          }\n          else {\n            scope.orderBy = dataName;\n            scope.sortBy = 'desc';\n          }\n          scope.$apply();\n\n          if (angular.isDefined(options.onSort) && angular.isFunction(options.onSort)) {\n            options.onSort(scope.orderBy, scope.sortBy);\n          }\n        }\n\n      }\n\n    }\n  };\n} ]);\n"],"sourceRoot":"/source/"}