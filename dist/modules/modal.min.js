/**
 * angular-strap
 * @version v2.3.10 - 2018-09-06
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes <olivier@mg-crea.com> (https://github.com/mgcrea)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
'use strict';angular.module('mgcrea.ngStrap.modal',['mgcrea.ngStrap.core','mgcrea.ngStrap.helpers.dimensions']).provider('$modal',function(){var n=this.defaults={animation:'am-fade',backdropAnimation:'am-fade',customClass:'',prefixClass:'modal',prefixEvent:'modal',placement:'top',templateUrl:'modal/modal.tpl.html',template:'',contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0,size:null,zIndex:null};this.$get=['$window','$rootScope','$bsCompiler','$animate','$timeout','$sce','dimensions',function(e,o,t,a,i,l,r){function s(e){function i(){A.$emit(D.prefixEvent+'.show',E),angular.isDefined(D.onShow)&&angular.isFunction(D.onShow)&&D.onShow(E)}function r(){D.backdrop&&y(),A.$emit(D.prefixEvent+'.hide',E),angular.isDefined(D.onHide)&&angular.isFunction(D.onHide)&&D.onHide(E),d('.modal').length<=0&&m.removeClass(D.prefixClass+'-open'),D.animation&&m.removeClass(D.prefixClass+'-with-'+D.animation)}function s(){D.backdrop&&(B.on('click',C),F.on('click',C),F.on('wheel',k))}function w(){D.backdrop&&(B.off('click',C),F.off('click',C),F.off('wheel',k))}function v(){D.keyboard&&B.on('keyup',E.$onKeyUp)}function b(){D.keyboard&&B.off('keyup',E.$onKeyUp)}function C(n){n.target===n.currentTarget&&('static'===D.backdrop?E.focus():E.hide())}function k(n){n.preventDefault()}function S(){E.$isShown&&null!==B&&(w(),b()),U&&(U.$destroy(),U=null),B&&(B.remove(),B=E.$element=null)}function x(){var n=document.createElement('div');n.className='modal-scrollbar-measure',m.append(n);var e=n.offsetWidth-n.clientWidth;m[0].removeChild(n);var o=window.innerWidth;if(!o){var t=document.documentElement.getBoundingClientRect();o=t.right-Math.abs(t.left)}var a=document.body.clientWidth<o;a&&m.css('padding-right',e+'px')}function y(){m.css('padding-right',0)}var E={},D=E.$options=angular.extend({},n,e),z=E.$promise=t.compile(D),A=E.$scope=D.scope&&D.scope.$new()||o.$new();D.element||D.container||(D.container='body'),D.zIndex&&(h=parseInt(D.zIndex,10),g=h-10),E.$id=D.id||D.element&&D.element.attr('id')||'',u(['title','content'],function(n){D[n]&&(A[n]=l.trustAsHtml(D[n]))}),A.$hide=function(){A.$$postDigest(function(){E.hide()})},A.$show=function(){A.$$postDigest(function(){E.show()})},A.$toggle=function(){A.$$postDigest(function(){E.toggle()})},E.$isShown=A.$isShown=!1;var H,B,U,F=angular.element('<div class="'+D.prefixClass+'-backdrop"/>');return z.then(function(n){H=n,E.init()}),E.init=function(){D.show&&A.$$postDigest(function(){E.show()})},E.destroy=function(){S(),F&&(F.remove(),F=null),A.$destroy()},E.show=function(){if(!E.$isShown){var n,e;if(angular.isElement(D.container)?(n=D.container,e=D.container[0].lastChild?angular.element(D.container[0].lastChild):null):D.container?(n=d(D.container),e=n[0]&&n[0].lastChild?angular.element(n[0].lastChild):null):(n=null,e=D.element),D.backdrop&&x(),B&&S(),U=E.$scope.$new(),B=E.$element=H.link(U,function(n,e){}),D.backdrop&&(B.css({'z-index':h+20*p}),F.css({'z-index':g+20*p}),p++),!A.$emit(D.prefixEvent+'.show.before',E).defaultPrevented){angular.isDefined(D.onBeforeShow)&&angular.isFunction(D.onBeforeShow)&&D.onBeforeShow(E),B.css({display:'block'}).addClass(D.placement),D.customClass&&B.addClass(D.customClass),D.size&&$[D.size]&&angular.element(d('.modal-dialog',B[0])).addClass($[D.size]),D.animation&&(D.backdrop&&F.addClass(D.backdropAnimation),B.addClass(D.animation)),D.backdrop&&a.enter(F,m,null),angular.version.minor<=2?a.enter(B,n,e,i):a.enter(B,n,e).then(i),E.$isShown=A.$isShown=!0,c(A);var o=B[0];f(function(){o.focus()}),m.addClass(D.prefixClass+'-open'),D.animation&&m.addClass(D.prefixClass+'-with-'+D.animation),s(),v()}}},E.hide=function(){E.$isShown&&(A.$emit(D.prefixEvent+'.hide.before',E).defaultPrevented||(angular.isDefined(D.onBeforeHide)&&angular.isFunction(D.onBeforeHide)&&D.onBeforeHide(E),angular.version.minor<=2?a.leave(B,r):a.leave(B).then(r),D.backdrop&&(p--,a.leave(F)),E.$isShown=A.$isShown=!1,c(A),w(),b()))},E.toggle=function(){E.$isShown?E.hide():E.show()},E.focus=function(){B[0].focus()},E.$onKeyUp=function(n){27===n.which&&E.$isShown&&(E.hide(),n.stopPropagation())},E}function c(n){n.$$phase||n.$root&&n.$root.$$phase||n.$digest()}function d(n,e){return angular.element((e||document).querySelectorAll(n))}var u=angular.forEach,f=e.requestAnimationFrame||e.setTimeout,m=angular.element(e.document.body),p=0,h=1050,g=1040,$={lg:'modal-dialog-lg',sm:'modal-dialog-sm'};return s}]}).directive('bsModal',['$window','$sce','$parse','$modal',function(n,e,o,t){return{restrict:'EAC',scope:!0,link:function(n,o,a,i){var l={scope:n,element:o,show:!1};angular.forEach(['template','templateUrl','controller','controllerAs','contentTemplate','placement','backdrop','keyboard','html','container','animation','backdropAnimation','id','prefixEvent','prefixClass','customClass','modalClass','size','zIndex'],function(n){angular.isDefined(a[n])&&(l[n]=a[n])}),l.modalClass&&(l.customClass=l.modalClass);var r=/^(false|0|)$/i;angular.forEach(['backdrop','keyboard','html','container'],function(n){angular.isDefined(a[n])&&r.test(a[n])&&(l[n]=!1)}),angular.forEach(['onBeforeShow','onShow','onBeforeHide','onHide'],function(e){var o='bs'+e.charAt(0).toUpperCase()+e.slice(1);angular.isDefined(a[o])&&(l[e]=n.$eval(a[o]))}),angular.forEach(['title','content'],function(o){a[o]&&a.$observe(o,function(t,a){n[o]=e.trustAsHtml(t)})}),a.bsModal&&n.$watch(a.bsModal,function(e,o){angular.isObject(e)?angular.extend(n,e):n.content=e},!0);var s=t(l);o.on(a.trigger||'click',s.toggle),n.$on('$destroy',function(){s&&s.destroy(),l=null,s=null})}}}]);
//# sourceMappingURL=modal.min.js.map
